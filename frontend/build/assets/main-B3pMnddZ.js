(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();var bo={exports:{}},sl={};var Jd;function wv(){if(Jd)return sl;Jd=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:s,type:r,key:d,ref:c!==void 0?c:null,props:f}}return sl.Fragment=a,sl.jsx=l,sl.jsxs=l,sl}var Zd;function Ev(){return Zd||(Zd=1,bo.exports=wv()),bo.exports}var N=Ev(),So={exports:{}},ae={};var Id;function Tv(){if(Id)return ae;Id=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function A(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function q(S,B,Y){this.props=S,this.context=B,this.refs=k,this.updater=Y||x}q.prototype.isReactComponent={},q.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=q.prototype;function H(S,B,Y){this.props=S,this.context=B,this.refs=k,this.updater=Y||x}var K=H.prototype=new $;K.constructor=H,D(K,q.prototype),K.isPureReactComponent=!0;var se=Array.isArray;function ne(){}var Q={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function he(S,B,Y){var J=Y.ref;return{$$typeof:s,type:S,key:B,ref:J!==void 0?J:null,props:Y}}function Ie(S,B){return he(S.type,B,S.props)}function qe(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function De(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Y){return B[Y]})}var Lt=/\/+/g;function Bt(S,B){return typeof S=="object"&&S!==null&&S.key!=null?De(""+S.key):B.toString(36)}function gt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ne,ne):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function j(S,B,Y,J,ie){var oe=typeof S;(oe==="undefined"||oe==="boolean")&&(S=null);var be=!1;if(S===null)be=!0;else switch(oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(S.$$typeof){case s:case a:be=!0;break;case _:return be=S._init,j(be(S._payload),B,Y,J,ie)}}if(be)return ie=ie(S),be=J===""?"."+Bt(S,0):J,se(ie)?(Y="",be!=null&&(Y=be.replace(Lt,"$&/")+"/"),j(ie,B,Y,"",function(di){return di})):ie!=null&&(qe(ie)&&(ie=Ie(ie,Y+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(Lt,"$&/")+"/")+be)),B.push(ie)),1;be=0;var lt=J===""?".":J+":";if(se(S))for(var Me=0;Me<S.length;Me++)J=S[Me],oe=lt+Bt(J,Me),be+=j(J,B,Y,oe,ie);else if(Me=A(S),typeof Me=="function")for(S=Me.call(S),Me=0;!(J=S.next()).done;)J=J.value,oe=lt+Bt(J,Me++),be+=j(J,B,Y,oe,ie);else if(oe==="object"){if(typeof S.then=="function")return j(gt(S),B,Y,J,ie);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return be}function G(S,B,Y){if(S==null)return S;var J=[],ie=0;return j(S,J,"","",function(oe){return B.call(Y,oe,ie++)}),J}function V(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(Y){(S._status===0||S._status===-1)&&(S._status=1,S._result=Y)},function(Y){(S._status===0||S._status===-1)&&(S._status=2,S._result=Y)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var ue=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Oe={map:G,forEach:function(S,B,Y){G(S,function(){B.apply(this,arguments)},Y)},count:function(S){var B=0;return G(S,function(){B++}),B},toArray:function(S){return G(S,function(B){return B})||[]},only:function(S){if(!qe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ae.Activity=w,ae.Children=Oe,ae.Component=q,ae.Fragment=l,ae.Profiler=c,ae.PureComponent=H,ae.StrictMode=r,ae.Suspense=m,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Q.H.useMemoCache(S)}},ae.cache=function(S){return function(){return S.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(S,B,Y){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=D({},S.props),ie=S.key;if(B!=null)for(oe in B.key!==void 0&&(ie=""+B.key),B)!me.call(B,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&B.ref===void 0||(J[oe]=B[oe]);var oe=arguments.length-2;if(oe===1)J.children=Y;else if(1<oe){for(var be=Array(oe),lt=0;lt<oe;lt++)be[lt]=arguments[lt+2];J.children=be}return he(S.type,ie,J)},ae.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ae.createElement=function(S,B,Y){var J,ie={},oe=null;if(B!=null)for(J in B.key!==void 0&&(oe=""+B.key),B)me.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=B[J]);var be=arguments.length-2;if(be===1)ie.children=Y;else if(1<be){for(var lt=Array(be),Me=0;Me<be;Me++)lt[Me]=arguments[Me+2];ie.children=lt}if(S&&S.defaultProps)for(J in be=S.defaultProps,be)ie[J]===void 0&&(ie[J]=be[J]);return he(S,oe,ie)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(S){return{$$typeof:g,render:S}},ae.isValidElement=qe,ae.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:V}},ae.memo=function(S,B){return{$$typeof:y,type:S,compare:B===void 0?null:B}},ae.startTransition=function(S){var B=Q.T,Y={};Q.T=Y;try{var J=S(),ie=Q.S;ie!==null&&ie(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,ue)}catch(oe){ue(oe)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),Q.T=B}},ae.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ae.use=function(S){return Q.H.use(S)},ae.useActionState=function(S,B,Y){return Q.H.useActionState(S,B,Y)},ae.useCallback=function(S,B){return Q.H.useCallback(S,B)},ae.useContext=function(S){return Q.H.useContext(S)},ae.useDebugValue=function(){},ae.useDeferredValue=function(S,B){return Q.H.useDeferredValue(S,B)},ae.useEffect=function(S,B){return Q.H.useEffect(S,B)},ae.useEffectEvent=function(S){return Q.H.useEffectEvent(S)},ae.useId=function(){return Q.H.useId()},ae.useImperativeHandle=function(S,B,Y){return Q.H.useImperativeHandle(S,B,Y)},ae.useInsertionEffect=function(S,B){return Q.H.useInsertionEffect(S,B)},ae.useLayoutEffect=function(S,B){return Q.H.useLayoutEffect(S,B)},ae.useMemo=function(S,B){return Q.H.useMemo(S,B)},ae.useOptimistic=function(S,B){return Q.H.useOptimistic(S,B)},ae.useReducer=function(S,B,Y){return Q.H.useReducer(S,B,Y)},ae.useRef=function(S){return Q.H.useRef(S)},ae.useState=function(S){return Q.H.useState(S)},ae.useSyncExternalStore=function(S,B,Y){return Q.H.useSyncExternalStore(S,B,Y)},ae.useTransition=function(){return Q.H.useTransition()},ae.version="19.2.4",ae}var Pd;function Vo(){return Pd||(Pd=1,So.exports=Tv()),So.exports}var ee=Vo(),wo={exports:{}},rl={},Eo={exports:{}},To={};var Wd;function Av(){return Wd||(Wd=1,(function(s){function a(j,G){var V=j.length;j.push(G);e:for(;0<V;){var ue=V-1>>>1,Oe=j[ue];if(0<c(Oe,G))j[ue]=G,j[V]=Oe,V=ue;else break e}}function l(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],V=j.pop();if(V!==G){j[0]=V;e:for(var ue=0,Oe=j.length,S=Oe>>>1;ue<S;){var B=2*(ue+1)-1,Y=j[B],J=B+1,ie=j[J];if(0>c(Y,V))J<Oe&&0>c(ie,Y)?(j[ue]=ie,j[J]=V,ue=J):(j[ue]=Y,j[B]=V,ue=B);else if(J<Oe&&0>c(ie,V))j[ue]=ie,j[J]=V,ue=J;else break e}}return G}function c(j,G){var V=j.sortIndex-G.sortIndex;return V!==0?V:j.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var m=[],y=[],_=1,w=null,T=3,A=!1,x=!1,D=!1,k=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(j){for(var G=l(y);G!==null;){if(G.callback===null)r(y);else if(G.startTime<=j)r(y),G.sortIndex=G.expirationTime,a(m,G);else break;G=l(y)}}function se(j){if(D=!1,K(j),!x)if(l(m)!==null)x=!0,ne||(ne=!0,De());else{var G=l(y);G!==null&&gt(se,G.startTime-j)}}var ne=!1,Q=-1,me=5,he=-1;function Ie(){return k?!0:!(s.unstable_now()-he<me)}function qe(){if(k=!1,ne){var j=s.unstable_now();he=j;var G=!0;try{e:{x=!1,D&&(D=!1,$(Q),Q=-1),A=!0;var V=T;try{t:{for(K(j),w=l(m);w!==null&&!(w.expirationTime>j&&Ie());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,T=w.priorityLevel;var Oe=ue(w.expirationTime<=j);if(j=s.unstable_now(),typeof Oe=="function"){w.callback=Oe,K(j),G=!0;break t}w===l(m)&&r(m),K(j)}else r(m);w=l(m)}if(w!==null)G=!0;else{var S=l(y);S!==null&&gt(se,S.startTime-j),G=!1}}break e}finally{w=null,T=V,A=!1}G=void 0}}finally{G?De():ne=!1}}}var De;if(typeof H=="function")De=function(){H(qe)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,Bt=Lt.port2;Lt.port1.onmessage=qe,De=function(){Bt.postMessage(null)}}else De=function(){q(qe,0)};function gt(j,G){Q=q(function(){j(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(j){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var V=T;T=G;try{return j()}finally{T=V}},s.unstable_requestPaint=function(){k=!0},s.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=T;T=j;try{return G()}finally{T=V}},s.unstable_scheduleCallback=function(j,G,V){var ue=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ue+V:ue):V=ue,j){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=V+Oe,j={id:_++,callback:G,priorityLevel:j,startTime:V,expirationTime:Oe,sortIndex:-1},V>ue?(j.sortIndex=V,a(y,j),l(m)===null&&j===l(y)&&(D?($(Q),Q=-1):D=!0,gt(se,V-ue))):(j.sortIndex=Oe,a(m,j),x||A||(x=!0,ne||(ne=!0,De()))),j},s.unstable_shouldYield=Ie,s.unstable_wrapCallback=function(j){var G=T;return function(){var V=T;T=G;try{return j.apply(this,arguments)}finally{T=V}}}})(To)),To}var Fd;function Ov(){return Fd||(Fd=1,Eo.exports=Av()),Eo.exports}var Ao={exports:{}},it={};var eg;function Rv(){if(eg)return it;eg=1;var s=Vo();function a(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(m,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:m,containerInfo:y,implementation:_}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,it.createPortal=function(m,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return f(m,y,null,_)},it.flushSync=function(m){var y=d.T,_=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=y,r.p=_,r.d.f()}},it.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},it.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},it.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var _=y.as,w=g(_,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:A}):_==="script"&&r.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},it.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=g(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},it.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=g(_,y.crossOrigin);r.d.L(m,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},it.preloadModule=function(m,y){if(typeof m=="string")if(y){var _=g(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},it.requestFormReset=function(m){r.d.r(m)},it.unstable_batchedUpdates=function(m,y){return m(y)},it.useFormState=function(m,y,_){return d.H.useFormState(m,y,_)},it.useFormStatus=function(){return d.H.useHostTransitionStatus()},it.version="19.2.4",it}var tg;function Cv(){if(tg)return Ao.exports;tg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Ao.exports=Rv(),Ao.exports}var ng;function Nv(){if(ng)return rl;ng=1;var s=Ov(),a=Vo(),l=Cv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return m(u),e;if(o===i)return m(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var h=!1,v=u.child;v;){if(v===n){h=!0,n=u,i=o;break}if(v===i){h=!0,i=u,n=o;break}v=v.sibling}if(!h){for(v=o.child;v;){if(v===n){h=!0,n=o,i=u;break}if(v===i){h=!0,i=o,n=u;break}v=v.sibling}if(!h)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),Ie=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=qe&&e[qe]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case q:return"Profiler";case k:return"StrictMode";case se:return"Suspense";case ne:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case H:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Bt(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return Bt(e(t))}catch{}}return null}var gt=Array.isArray,j=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ue=[],Oe=-1;function S(e){return{current:e}}function B(e){0>Oe||(e.current=ue[Oe],ue[Oe]=null,Oe--)}function Y(e,t){Oe++,ue[Oe]=e.current,e.current=t}var J=S(null),ie=S(null),oe=S(null),be=S(null);function lt(e,t){switch(Y(oe,t),Y(ie,e),Y(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vd(t),e=pd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(J),Y(J,e)}function Me(){B(J),B(ie),B(oe)}function di(e){e.memoizedState!==null&&Y(be,e);var t=J.current,n=pd(t,e.type);t!==n&&(Y(ie,e),Y(J,n))}function bl(e){ie.current===e&&(B(J),B(ie)),be.current===e&&(B(be),nl._currentValue=V)}var tr,Xo;function Xn(e){if(tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tr=t&&t[1]||"",Xo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+Xo}var nr=!1;function ar(e,t){if(!e||nr)return"";nr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(U){var C=U}Reflect.construct(e,[],L)}else{try{L.call()}catch(U){C=U}e.call(L.prototype)}}else{try{throw Error()}catch(U){C=U}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),h=o[0],v=o[1];if(h&&v){var p=h.split(`
`),R=v.split(`
`);for(u=i=0;i<p.length&&!p[i].includes("DetermineComponentFrameRoot");)i++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(i===p.length||u===R.length)for(i=p.length-1,u=R.length-1;1<=i&&0<=u&&p[i]!==R[u];)u--;for(;1<=i&&0<=u;i--,u--)if(p[i]!==R[u]){if(i!==1||u!==1)do if(i--,u--,0>u||p[i]!==R[u]){var z=`
`+p[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=u);break}}}finally{nr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xn(n):""}function Fg(e,t){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==t&&t!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return Xn("Activity");default:return""}}function Qo(e){try{var t="",n=null;do t+=Fg(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ir=Object.prototype.hasOwnProperty,lr=s.unstable_scheduleCallback,sr=s.unstable_cancelCallback,ey=s.unstable_shouldYield,ty=s.unstable_requestPaint,yt=s.unstable_now,ny=s.unstable_getCurrentPriorityLevel,Jo=s.unstable_ImmediatePriority,Zo=s.unstable_UserBlockingPriority,Sl=s.unstable_NormalPriority,ay=s.unstable_LowPriority,Io=s.unstable_IdlePriority,iy=s.log,ly=s.unstable_setDisableYieldValue,gi=null,mt=null;function pn(e){if(typeof iy=="function"&&ly(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(gi,e)}catch{}}var vt=Math.clz32?Math.clz32:uy,sy=Math.log,ry=Math.LN2;function uy(e){return e>>>=0,e===0?32:31-(sy(e)/ry|0)|0}var wl=256,El=262144,Tl=4194304;function Qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Al(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~o,i!==0?u=Qn(i):(h&=v,h!==0?u=Qn(h):n||(n=v&~e,n!==0&&(u=Qn(n))))):(v=i&~o,v!==0?u=Qn(v):h!==0?u=Qn(h):n||(n=i&~e,n!==0&&(u=Qn(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function oy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function rr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cy(e,t,n,i,u,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,p=e.expirationTimes,R=e.hiddenUpdates;for(n=h&~n;0<n;){var z=31-vt(n),L=1<<z;v[z]=0,p[z]=-1;var C=R[z];if(C!==null)for(R[z]=null,z=0;z<C.length;z++){var U=C[z];U!==null&&(U.lane&=-536870913)}n&=~L}i!==0&&Wo(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function Wo(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-vt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Fo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-vt(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function ec(e,t){var n=t&-t;return n=(n&42)!==0?1:ur(n),(n&(e.suspendedLanes|t))!==0?0:n}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function or(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Gd(e.type))}function nc(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var _n=Math.random().toString(36).slice(2),Pe="__reactFiber$"+_n,rt="__reactProps$"+_n,va="__reactContainer$"+_n,cr="__reactEvents$"+_n,fy="__reactListeners$"+_n,hy="__reactHandles$"+_n,ac="__reactResources$"+_n,vi="__reactMarker$"+_n;function fr(e){delete e[Pe],delete e[rt],delete e[cr],delete e[fy],delete e[hy]}function pa(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[va]||n[Pe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ad(e);e!==null;){if(n=e[Pe])return n;e=Ad(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Pe]||e[va]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ba(e){var t=e[ac];return t||(t=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[vi]=!0}var ic=new Set,lc={};function Jn(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(lc[e]=t,e=0;e<t.length;e++)ic.add(t[e])}var dy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},rc={};function gy(e){return ir.call(rc,e)?!0:ir.call(sc,e)?!1:dy.test(e)?rc[e]=!0:(sc[e]=!0,!1)}function Ol(e,t,n){if(gy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function It(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){n=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){if(!e._valueTracker){var t=uc(e)?"checked":"value";e._valueTracker=yy(e,t,""+e[t])}}function oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=uc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var my=/[\n"\\]/g;function Ct(e){return e.replace(my,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dr(e,t,n,i,u,o,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?gr(e,h,Rt(t)):n!=null?gr(e,h,Rt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Rt(v):e.removeAttribute("name")}function cc(e,t,n,i,u,o,h,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){hr(e);return}n=n!=null?""+Rt(n):"",t=t!=null?""+Rt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),hr(e)}function gr(e,t,n){t==="number"&&Cl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Rt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fc(e,t,n){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Rt(n):""}function hc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(gt(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Rt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),hr(e)}function Ea(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||vy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&dc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&dc(e,o,t[o])}function yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var py=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return _y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var mr=null;function vr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,Aa=null;function yc(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(dr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[rt]||null;if(!u)throw Error(r(90));dr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&oc(i)}break e;case"textarea":fc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var pr=!1;function mc(e,t,n){if(pr)return e(t,n);pr=!0;try{var i=e(t);return i}finally{if(pr=!1,(Ta!==null||Aa!==null)&&(ms(),Ta&&(t=Ta,e=Aa,Aa=Ta=null,yc(t),e)))for(t=0;t<e.length;t++)yc(e[t])}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var i=n[rt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Wt)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){_r=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{_r=!1}var bn=null,br=null,jl=null;function vc(){if(jl)return jl;var e,t=br,n=t.length,i,u="value"in bn?bn.value:bn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===u[o-i];i++);return jl=u.slice(e,1<i?1-i:void 0)}function Ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function pc(){return!1}function ut(e){function t(n,i,u,o,h){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dl:pc,this.isPropagationStopped=pc,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=ut(Zn),Si=w({},Zn,{view:0,detail:0}),by=ut(Si),Sr,wr,wi,zl=w({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Sr=e.screenX-wi.screenX,wr=e.screenY-wi.screenY):wr=Sr=0,wi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),_c=ut(zl),Sy=w({},zl,{dataTransfer:0}),wy=ut(Sy),Ey=w({},Si,{relatedTarget:0}),Er=ut(Ey),Ty=w({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ay=ut(Ty),Oy=w({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ry=ut(Oy),Cy=w({},Zn,{data:0}),bc=ut(Cy),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uy[e])?!!t[e]:!1}function Tr(){return Dy}var xy=w({},Si,{key:function(e){if(e.key){var t=Ny[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=ut(xy),ky=w({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=ut(ky),My=w({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Ly=ut(My),By=w({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=ut(By),Hy=w({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=ut(Hy),$y=w({},Zn,{newState:0,oldState:0}),Vy=ut($y),Yy=[9,13,27,32],Ar=Wt&&"CompositionEvent"in window,Ei=null;Wt&&"documentMode"in document&&(Ei=document.documentMode);var Ky=Wt&&"TextEvent"in window&&!Ei,wc=Wt&&(!Ar||Ei&&8<Ei&&11>=Ei),Ec=" ",Tc=!1;function Ac(e,t){switch(e){case"keyup":return Yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function Xy(e,t){switch(e){case"compositionend":return Oc(t);case"keypress":return t.which!==32?null:(Tc=!0,Ec);case"textInput":return e=t.data,e===Ec&&Tc?null:e;default:return null}}function Qy(e,t){if(Oa)return e==="compositionend"||!Ar&&Ac(e,t)?(e=vc(),jl=br=bn=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wc&&t.locale!=="ko"?null:t.data;default:return null}}var Jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jy[e.type]:t==="textarea"}function Cc(e,t,n,i){Ta?Aa?Aa.push(i):Aa=[i]:Ta=i,t=Es(t,"onChange"),0<t.length&&(n=new xl("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ti=null,Ai=null;function Zy(e){fd(e,0)}function kl(e){var t=pi(e);if(oc(t))return e}function Nc(e,t){if(e==="change")return t}var jc=!1;if(Wt){var Or;if(Wt){var Rr="oninput"in document;if(!Rr){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Rr=typeof Uc.oninput=="function"}Or=Rr}else Or=!1;jc=Or&&(!document.documentMode||9<document.documentMode)}function Dc(){Ti&&(Ti.detachEvent("onpropertychange",xc),Ai=Ti=null)}function xc(e){if(e.propertyName==="value"&&kl(Ai)){var t=[];Cc(t,Ai,e,vr(e)),mc(Zy,t)}}function Iy(e,t,n){e==="focusin"?(Dc(),Ti=t,Ai=n,Ti.attachEvent("onpropertychange",xc)):e==="focusout"&&Dc()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(Ai)}function Wy(e,t){if(e==="click")return kl(t)}function Fy(e,t){if(e==="input"||e==="change")return kl(t)}function em(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:em;function Oi(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!ir.call(t,u)||!pt(e[u],t[u]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=zc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zc(n)}}function Mc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cl(e.document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tm=Wt&&"documentMode"in document&&11>=document.documentMode,Ra=null,Nr=null,Ri=null,jr=!1;function Bc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jr||Ra==null||Ra!==Cl(i)||(i=Ra,"selectionStart"in i&&Cr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ri&&Oi(Ri,i)||(Ri=i,i=Es(Nr,"onSelect"),0<i.length&&(t=new xl("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ra)))}function In(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},Ur={},qc={};Wt&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Pn(e){if(Ur[e])return Ur[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qc)return Ur[e]=t[n];return e}var Hc=Pn("animationend"),Gc=Pn("animationiteration"),$c=Pn("animationstart"),nm=Pn("transitionrun"),am=Pn("transitionstart"),im=Pn("transitioncancel"),Vc=Pn("transitionend"),Yc=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function qt(e,t){Yc.set(e,t),Jn(t,[e])}var Ml=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],Na=0,xr=0;function Ll(){for(var e=Na,t=xr=Na=0;t<e;){var n=Nt[t];Nt[t++]=null;var i=Nt[t];Nt[t++]=null;var u=Nt[t];Nt[t++]=null;var o=Nt[t];if(Nt[t++]=null,i!==null&&u!==null){var h=i.pending;h===null?u.next=u:(u.next=h.next,h.next=u),i.pending=u}o!==0&&Kc(n,u,o)}}function Bl(e,t,n,i){Nt[Na++]=e,Nt[Na++]=t,Nt[Na++]=n,Nt[Na++]=i,xr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function zr(e,t,n,i){return Bl(e,t,n,i),ql(e)}function Wn(e,t){return Bl(e,null,null,t),ql(e)}function Kc(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-vt(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function ql(e){if(50<Zi)throw Zi=0,Vu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function lm(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,i){return new lm(e,t,n,i)}function kr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hl(e,t,n,i,u,o){var h=0;if(i=e,typeof e=="function")kr(e)&&(h=1);else if(typeof e=="string")h=cv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=_t(31,n,t,u),e.elementType=he,e.lanes=o,e;case D:return Fn(n.children,u,o,t);case k:h=8,u|=24;break;case q:return e=_t(12,n,t,u|2),e.elementType=q,e.lanes=o,e;case se:return e=_t(13,n,t,u),e.elementType=se,e.lanes=o,e;case ne:return e=_t(19,n,t,u),e.elementType=ne,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:h=10;break e;case $:h=9;break e;case K:h=11;break e;case Q:h=14;break e;case me:h=16,i=null;break e}h=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=_t(h,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function Fn(e,t,n,i){return e=_t(7,e,i,t),e.lanes=n,e}function Mr(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Qc(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function Lr(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jc=new WeakMap;function jt(e,t){if(typeof e=="object"&&e!==null){var n=Jc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qo(t)},Jc.set(e,t),t)}return{value:e,source:t,stack:Qo(t)}}var Ua=[],Da=0,Gl=null,Ci=0,Ut=[],Dt=0,Sn=null,Xt=1,Qt="";function en(e,t){Ua[Da++]=Ci,Ua[Da++]=Gl,Gl=e,Ci=t}function Zc(e,t,n){Ut[Dt++]=Xt,Ut[Dt++]=Qt,Ut[Dt++]=Sn,Sn=e;var i=Xt;e=Qt;var u=32-vt(i)-1;i&=~(1<<u),n+=1;var o=32-vt(t)+u;if(30<o){var h=u-u%5;o=(i&(1<<h)-1).toString(32),i>>=h,u-=h,Xt=1<<32-vt(t)+u|n<<u|i,Qt=o+e}else Xt=1<<o|n<<u|i,Qt=e}function Br(e){e.return!==null&&(en(e,1),Zc(e,1,0))}function qr(e){for(;e===Gl;)Gl=Ua[--Da],Ua[Da]=null,Ci=Ua[--Da],Ua[Da]=null;for(;e===Sn;)Sn=Ut[--Dt],Ut[Dt]=null,Qt=Ut[--Dt],Ut[Dt]=null,Xt=Ut[--Dt],Ut[Dt]=null}function Ic(e,t){Ut[Dt++]=Xt,Ut[Dt++]=Qt,Ut[Dt++]=Sn,Xt=t.id,Qt=t.overflow,Sn=e}var We=null,Ne=null,ye=!1,wn=null,xt=!1,Hr=Error(r(519));function En(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ni(jt(t,e)),Hr}function Pc(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Pe]=e,t[rt]=i,n){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(n=0;n<Pi.length;n++)fe(Pi[n],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),cc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),hc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||yd(t.textContent,n)?(i.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),i.onScroll!=null&&fe("scroll",t),i.onScrollEnd!=null&&fe("scrollend",t),i.onClick!=null&&(t.onclick=Pt),t=!0):t=!1,t||En(e,!0)}function Wc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:xt=!1;return;case 27:case 3:xt=!0;return;default:We=We.return}}function xa(e){if(e!==We)return!1;if(!ye)return Wc(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||io(e.type,e.memoizedProps)),n=!n),n&&Ne&&En(e),Wc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=Td(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=Td(e)}else t===27?(t=Ne,Ln(e.type)?(e=oo,oo=null,Ne=e):Ne=t):Ne=We?kt(e.stateNode.nextSibling):null;return!0}function ea(){Ne=We=null,ye=!1}function Gr(){var e=wn;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),wn=null),e}function Ni(e){wn===null?wn=[e]:wn.push(e)}var $r=S(null),ta=null,tn=null;function Tn(e,t,n){Y($r,t._currentValue),t._currentValue=n}function nn(e){e._currentValue=$r.current,B($r)}function Vr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var h=u.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=u;for(var p=0;p<t.length;p++)if(v.context===t[p]){o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Vr(o.return,n,e),i||(h=null);break e}o=v.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(r(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Vr(h,n,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function za(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var v=u.type;pt(u.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(u===be.current){if(h=u.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}u=u.return}e!==null&&Yr(t,e,n,i),t.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Fc(ta,e)}function Vl(e,t){return ta===null&&na(e),Fc(e,t)}function Fc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tn===null){if(e===null)throw Error(r(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return n}var sm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},rm=s.unstable_scheduleCallback,um=s.unstable_NormalPriority,He={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new sm,data:new Map,refCount:0}}function ji(e){e.refCount--,e.refCount===0&&rm(um,function(){e.controller.abort()})}var Ui=null,Xr=0,ka=0,Ma=null;function om(e,t){if(Ui===null){var n=Ui=[];Xr=0,ka=Zu(),Ma={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Xr++,t.then(ef,ef),t}function ef(){if(--Xr===0&&Ui!==null){Ma!==null&&(Ma.status="fulfilled");var e=Ui;Ui=null,ka=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cm(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var tf=j.S;j.S=function(e,t){qh=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&om(e,t),tf!==null&&tf(e,t)};var aa=S(null);function Qr(){var e=aa.current;return e!==null?e:Re.pooledCache}function Yl(e,t){t===null?Y(aa,aa.current):Y(aa,t.pool)}function nf(){var e=Qr();return e===null?null:{parent:He._currentValue,pool:e}}var La=Error(r(460)),Jr=Error(r(474)),Kl=Error(r(542)),Xl={then:function(){}};function af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e;default:if(typeof t.status=="string")t.then(Pt,Pt);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e}throw la=t,La}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(la=n,La):n}}var la=null;function sf(){if(la===null)throw Error(r(459));var e=la;return la=null,e}function rf(e){if(e===La||e===Kl)throw Error(r(483))}var Ba=null,Di=0;function Ql(e){var t=Di;return Di+=1,Ba===null&&(Ba=[]),lf(Ba,e,t)}function xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jl(e,t){throw t.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uf(e){function t(E,b){if(e){var O=E.deletions;O===null?(E.deletions=[b],E.flags|=16):O.push(b)}}function n(E,b){if(!e)return null;for(;b!==null;)t(E,b),b=b.sibling;return null}function i(E){for(var b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function u(E,b){return E=Ft(E,b),E.index=0,E.sibling=null,E}function o(E,b,O){return E.index=O,e?(O=E.alternate,O!==null?(O=O.index,O<b?(E.flags|=67108866,b):O):(E.flags|=67108866,b)):(E.flags|=1048576,b)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,b,O,M){return b===null||b.tag!==6?(b=Mr(O,E.mode,M),b.return=E,b):(b=u(b,O),b.return=E,b)}function p(E,b,O,M){var P=O.type;return P===D?z(E,b,O.props.children,M,O.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===me&&ia(P)===b.type)?(b=u(b,O.props),xi(b,O),b.return=E,b):(b=Hl(O.type,O.key,O.props,null,E.mode,M),xi(b,O),b.return=E,b)}function R(E,b,O,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==O.containerInfo||b.stateNode.implementation!==O.implementation?(b=Lr(O,E.mode,M),b.return=E,b):(b=u(b,O.children||[]),b.return=E,b)}function z(E,b,O,M,P){return b===null||b.tag!==7?(b=Fn(O,E.mode,M,P),b.return=E,b):(b=u(b,O),b.return=E,b)}function L(E,b,O){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Mr(""+b,E.mode,O),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return O=Hl(b.type,b.key,b.props,null,E.mode,O),xi(O,b),O.return=E,O;case x:return b=Lr(b,E.mode,O),b.return=E,b;case me:return b=ia(b),L(E,b,O)}if(gt(b)||De(b))return b=Fn(b,E.mode,O,null),b.return=E,b;if(typeof b.then=="function")return L(E,Ql(b),O);if(b.$$typeof===H)return L(E,Vl(E,b),O);Jl(E,b)}return null}function C(E,b,O,M){var P=b!==null?b.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return P!==null?null:v(E,b,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===P?p(E,b,O,M):null;case x:return O.key===P?R(E,b,O,M):null;case me:return O=ia(O),C(E,b,O,M)}if(gt(O)||De(O))return P!==null?null:z(E,b,O,M,null);if(typeof O.then=="function")return C(E,b,Ql(O),M);if(O.$$typeof===H)return C(E,b,Vl(E,O),M);Jl(E,O)}return null}function U(E,b,O,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return E=E.get(O)||null,v(b,E,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return E=E.get(M.key===null?O:M.key)||null,p(b,E,M,P);case x:return E=E.get(M.key===null?O:M.key)||null,R(b,E,M,P);case me:return M=ia(M),U(E,b,O,M,P)}if(gt(M)||De(M))return E=E.get(O)||null,z(b,E,M,P,null);if(typeof M.then=="function")return U(E,b,O,Ql(M),P);if(M.$$typeof===H)return U(E,b,O,Vl(b,M),P);Jl(b,M)}return null}function X(E,b,O,M){for(var P=null,ve=null,Z=b,re=b=0,ge=null;Z!==null&&re<O.length;re++){Z.index>re?(ge=Z,Z=null):ge=Z.sibling;var pe=C(E,Z,O[re],M);if(pe===null){Z===null&&(Z=ge);break}e&&Z&&pe.alternate===null&&t(E,Z),b=o(pe,b,re),ve===null?P=pe:ve.sibling=pe,ve=pe,Z=ge}if(re===O.length)return n(E,Z),ye&&en(E,re),P;if(Z===null){for(;re<O.length;re++)Z=L(E,O[re],M),Z!==null&&(b=o(Z,b,re),ve===null?P=Z:ve.sibling=Z,ve=Z);return ye&&en(E,re),P}for(Z=i(Z);re<O.length;re++)ge=U(Z,E,re,O[re],M),ge!==null&&(e&&ge.alternate!==null&&Z.delete(ge.key===null?re:ge.key),b=o(ge,b,re),ve===null?P=ge:ve.sibling=ge,ve=ge);return e&&Z.forEach(function($n){return t(E,$n)}),ye&&en(E,re),P}function W(E,b,O,M){if(O==null)throw Error(r(151));for(var P=null,ve=null,Z=b,re=b=0,ge=null,pe=O.next();Z!==null&&!pe.done;re++,pe=O.next()){Z.index>re?(ge=Z,Z=null):ge=Z.sibling;var $n=C(E,Z,pe.value,M);if($n===null){Z===null&&(Z=ge);break}e&&Z&&$n.alternate===null&&t(E,Z),b=o($n,b,re),ve===null?P=$n:ve.sibling=$n,ve=$n,Z=ge}if(pe.done)return n(E,Z),ye&&en(E,re),P;if(Z===null){for(;!pe.done;re++,pe=O.next())pe=L(E,pe.value,M),pe!==null&&(b=o(pe,b,re),ve===null?P=pe:ve.sibling=pe,ve=pe);return ye&&en(E,re),P}for(Z=i(Z);!pe.done;re++,pe=O.next())pe=U(Z,E,re,pe.value,M),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?re:pe.key),b=o(pe,b,re),ve===null?P=pe:ve.sibling=pe,ve=pe);return e&&Z.forEach(function(Sv){return t(E,Sv)}),ye&&en(E,re),P}function Ae(E,b,O,M){if(typeof O=="object"&&O!==null&&O.type===D&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var P=O.key;b!==null;){if(b.key===P){if(P=O.type,P===D){if(b.tag===7){n(E,b.sibling),M=u(b,O.props.children),M.return=E,E=M;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===me&&ia(P)===b.type){n(E,b.sibling),M=u(b,O.props),xi(M,O),M.return=E,E=M;break e}n(E,b);break}else t(E,b);b=b.sibling}O.type===D?(M=Fn(O.props.children,E.mode,M,O.key),M.return=E,E=M):(M=Hl(O.type,O.key,O.props,null,E.mode,M),xi(M,O),M.return=E,E=M)}return h(E);case x:e:{for(P=O.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===O.containerInfo&&b.stateNode.implementation===O.implementation){n(E,b.sibling),M=u(b,O.children||[]),M.return=E,E=M;break e}else{n(E,b);break}else t(E,b);b=b.sibling}M=Lr(O,E.mode,M),M.return=E,E=M}return h(E);case me:return O=ia(O),Ae(E,b,O,M)}if(gt(O))return X(E,b,O,M);if(De(O)){if(P=De(O),typeof P!="function")throw Error(r(150));return O=P.call(O),W(E,b,O,M)}if(typeof O.then=="function")return Ae(E,b,Ql(O),M);if(O.$$typeof===H)return Ae(E,b,Vl(E,O),M);Jl(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,b!==null&&b.tag===6?(n(E,b.sibling),M=u(b,O),M.return=E,E=M):(n(E,b),M=Mr(O,E.mode,M),M.return=E,E=M),h(E)):n(E,b)}return function(E,b,O,M){try{Di=0;var P=Ae(E,b,O,M);return Ba=null,P}catch(Z){if(Z===La||Z===Kl)throw Z;var ve=_t(29,Z,null,E.mode);return ve.lanes=M,ve.return=E,ve}}}var sa=uf(!0),of=uf(!1),An=!1;function Zr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(_e&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=ql(e),Kc(e,null,n),t}return Bl(e,i,t,n),ql(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Fo(e,n)}}function Pr(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wr=!1;function ki(){if(Wr){var e=Ma;if(e!==null)throw e}}function Mi(e,t,n,i){Wr=!1;var u=e.updateQueue;An=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var p=v,R=p.next;p.next=null,h===null?o=R:h.next=R,h=p;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==h&&(v===null?z.firstBaseUpdate=R:v.next=R,z.lastBaseUpdate=p))}if(o!==null){var L=u.baseState;h=0,z=R=p=null,v=o;do{var C=v.lane&-536870913,U=C!==v.lane;if(U?(de&C)===C:(i&C)===C){C!==0&&C===ka&&(Wr=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var X=e,W=v;C=t;var Ae=n;switch(W.tag){case 1:if(X=W.payload,typeof X=="function"){L=X.call(Ae,L,C);break e}L=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=W.payload,C=typeof X=="function"?X.call(Ae,L,C):X,C==null)break e;L=w({},L,C);break e;case 2:An=!0}}C=v.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[C]:U.push(C))}else U={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(R=z=U,p=L):z=z.next=U,h|=C;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;U=v,v=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);z===null&&(p=L),u.baseState=p,u.firstBaseUpdate=R,u.lastBaseUpdate=z,o===null&&(u.shared.lanes=0),Dn|=h,e.lanes=h,e.memoizedState=L}}function cf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ff(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)cf(n[e],t)}var qa=S(null),Zl=S(0);function hf(e,t){e=hn,Y(Zl,e),Y(qa,t),hn=e|t.baseLanes}function Fr(){Y(Zl,hn),Y(qa,qa.current)}function eu(){hn=Zl.current,B(qa),B(Zl)}var bt=S(null),zt=null;function Cn(e){var t=e.alternate;Y(Le,Le.current&1),Y(bt,e),zt===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(zt=e)}function tu(e){Y(Le,Le.current),Y(bt,e),zt===null&&(zt=e)}function df(e){e.tag===22?(Y(Le,Le.current),Y(bt,e),zt===null&&(zt=e)):Nn()}function Nn(){Y(Le,Le.current),Y(bt,bt.current)}function St(e){B(bt),zt===e&&(zt=null),B(Le)}var Le=S(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ro(n)||uo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=0,le=null,Ee=null,Ge=null,Pl=!1,Ha=!1,ra=!1,Wl=0,Li=0,Ga=null,fm=0;function xe(){throw Error(r(321))}function nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function au(e,t,n,i,u,o){return an=o,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?If:pu,ra=!1,o=n(i,u),ra=!1,Ha&&(o=yf(t,n,i,u)),gf(e),o}function gf(e){j.H=Hi;var t=Ee!==null&&Ee.next!==null;if(an=0,Ge=Ee=le=null,Pl=!1,Li=0,Ga=null,t)throw Error(r(300));e===null||$e||(e=e.dependencies,e!==null&&$l(e)&&($e=!0))}function yf(e,t,n,i){le=e;var u=0;do{if(Ha&&(Ga=null),Li=0,Ha=!1,25<=u)throw Error(r(301));if(u+=1,Ge=Ee=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Pf,o=t(n,i)}while(Ha);return o}function hm(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Bi(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(le.flags|=1024),t}function iu(){var e=Wl!==0;return Wl=0,e}function lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function su(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}an=0,Ge=Ee=le=null,Ha=!1,Li=Wl=0,Ga=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?le.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Be(){if(Ee===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ge===null?le.memoizedState:Ge.next;if(t!==null)Ge=t,Ee=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ge===null?le.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var t=Li;return Li+=1,Ga===null&&(Ga=[]),e=lf(Ga,e,t),t=le,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?If:pu),e}function es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===H)return Fe(e)}throw Error(r(438,String(e)))}function ru(e){var t=null,n=le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fl(),le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ie;return t.index++,n}function ln(e,t){return typeof t=="function"?t(e):t}function ts(e){var t=Be();return uu(t,Ee,e)}function uu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var v=h=null,p=null,R=t,z=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(de&L)===L:(an&L)===L){var C=R.revertLane;if(C===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===ka&&(z=!0);else if((an&C)===C){R=R.next,C===ka&&(z=!0);continue}else L={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(v=p=L,h=o):p=p.next=L,le.lanes|=C,Dn|=C;L=R.action,ra&&n(o,L),o=R.hasEagerState?R.eagerState:n(o,L)}else C={lane:L,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(v=p=C,h=o):p=p.next=C,le.lanes|=L,Dn|=L;R=R.next}while(R!==null&&R!==t);if(p===null?h=o:p.next=v,!pt(o,e.memoizedState)&&($e=!0,z&&(n=Ma,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=p,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ou(e){var t=Be(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);pt(o,t.memoizedState)||($e=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function mf(e,t,n){var i=le,u=Be(),o=ye;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var h=!pt((Ee||u).memoizedState,n);if(h&&(u.memoizedState=n,$e=!0),u=u.queue,hu(_f.bind(null,i,u,e),[e]),u.getSnapshot!==t||h||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,$a(9,{destroy:void 0},pf.bind(null,i,u,n,t),null),Re===null)throw Error(r(349));o||(an&127)!==0||vf(i,t,n)}return n}function vf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t=Fl(),le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pf(e,t,n,i){t.value=n,t.getSnapshot=i,bf(t)&&Sf(e)}function _f(e,t,n){return n(function(){bf(t)&&Sf(e)})}function bf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Sf(e){var t=Wn(e,2);t!==null&&dt(t,e,2)}function cu(e){var t=st();if(typeof e=="function"){var n=e;if(e=n(),ra){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function wf(e,t,n,i){return e.baseState=n,uu(e,Ee,typeof i=="function"?i:ln)}function dm(e,t,n,i,u){if(is(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};j.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,Ef(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ef(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=j.T,h={};j.T=h;try{var v=n(u,i),p=j.S;p!==null&&p(h,v),Tf(e,t,v)}catch(R){fu(e,t,R)}finally{o!==null&&h.types!==null&&(o.types=h.types),j.T=o}}else try{o=n(u,i),Tf(e,t,o)}catch(R){fu(e,t,R)}}function Tf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Af(e,t,i)},function(i){return fu(e,t,i)}):Af(e,t,n)}function Af(e,t,n){t.status="fulfilled",t.value=n,Of(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ef(e,n)))}function fu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Of(t),t=t.next;while(t!==i)}e.action=null}function Of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rf(e,t){return t}function Cf(e,t){if(ye){var n=Re.formState;if(n!==null){e:{var i=le;if(ye){if(Ne){t:{for(var u=Ne,o=xt;u.nodeType!==8;){if(!o){u=null;break t}if(u=kt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ne=kt(u.nextSibling),i=u.data==="F!";break e}}En(i)}i=!1}i&&(t=n[0])}}return n=st(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},n.queue=i,n=Qf.bind(null,le,i),i.dispatch=n,i=cu(!1),o=vu.bind(null,le,!1,i.queue),i=st(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=dm.bind(null,le,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function Nf(e){var t=Be();return jf(t,Ee,e)}function jf(e,t,n){if(t=uu(e,t,Rf)[0],e=ts(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Bi(t)}catch(h){throw h===La?Kl:h}else i=t;t=Be();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(le.flags|=2048,$a(9,{destroy:void 0},gm.bind(null,u,n),null)),[i,o,e]}function gm(e,t){e.action=t}function Uf(e){var t=Be(),n=Ee;if(n!==null)return jf(t,n,e);Be(),t=t.memoizedState,n=Be();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $a(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=le.updateQueue,t===null&&(t=Fl(),le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Df(){return Be().memoizedState}function ns(e,t,n,i){var u=st();le.flags|=e,u.memoizedState=$a(1|t,{destroy:void 0},n,i===void 0?null:i)}function as(e,t,n,i){var u=Be();i=i===void 0?null:i;var o=u.memoizedState.inst;Ee!==null&&i!==null&&nu(i,Ee.memoizedState.deps)?u.memoizedState=$a(t,o,n,i):(le.flags|=e,u.memoizedState=$a(1|t,o,n,i))}function xf(e,t){ns(8390656,8,e,t)}function hu(e,t){as(2048,8,e,t)}function ym(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Fl(),le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function zf(e){var t=Be().memoizedState;return ym({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function kf(e,t){return as(4,2,e,t)}function Mf(e,t){return as(4,4,e,t)}function Lf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bf(e,t,n){n=n!=null?n.concat([e]):null,as(4,4,Lf.bind(null,t,e),n)}function du(){}function qf(e,t){var n=Be();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&nu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Hf(e,t){var n=Be();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&nu(t,i[1]))return i[0];if(i=e(),ra){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[i,t],i}function gu(e,t,n){return n===void 0||(an&1073741824)!==0&&(de&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Gh(),le.lanes|=e,Dn|=e,n)}function Gf(e,t,n,i){return pt(n,t)?n:qa.current!==null?(e=gu(e,n,i),pt(e,t)||($e=!0),e):(an&42)===0||(an&1073741824)!==0&&(de&261930)===0?($e=!0,e.memoizedState=n):(e=Gh(),le.lanes|=e,Dn|=e,t)}function $f(e,t,n,i,u){var o=G.p;G.p=o!==0&&8>o?o:8;var h=j.T,v={};j.T=v,vu(e,!1,t,n);try{var p=u(),R=j.S;if(R!==null&&R(v,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var z=cm(p,i);qi(e,t,z,Tt(e))}else qi(e,t,i,Tt(e))}catch(L){qi(e,t,{then:function(){},status:"rejected",reason:L},Tt())}finally{G.p=o,h!==null&&v.types!==null&&(h.types=v.types),j.T=h}}function mm(){}function yu(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Vf(e).queue;$f(e,u,t,V,n===null?mm:function(){return Yf(e),n(i)})}function Vf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:V},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yf(e){var t=Vf(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},Tt())}function mu(){return Fe(nl)}function Kf(){return Be().memoizedState}function Xf(){return Be().memoizedState}function vm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tt();e=On(n);var i=Rn(t,e,n);i!==null&&(dt(i,t,n),zi(i,t,n)),t={cache:Kr()},e.payload=t;return}t=t.return}}function pm(e,t,n){var i=Tt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},is(e)?Jf(t,n):(n=zr(e,t,n,i),n!==null&&(dt(n,e,i),Zf(n,t,i)))}function Qf(e,t,n){var i=Tt();qi(e,t,n,i)}function qi(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))Jf(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,v=o(h,n);if(u.hasEagerState=!0,u.eagerState=v,pt(v,h))return Bl(e,t,u,0),Re===null&&Ll(),!1}catch{}if(n=zr(e,t,u,i),n!==null)return dt(n,e,i),Zf(n,t,i),!0}return!1}function vu(e,t,n,i){if(i={lane:2,revertLane:Zu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},is(e)){if(t)throw Error(r(479))}else t=zr(e,n,i,2),t!==null&&dt(t,e,2)}function is(e){var t=e.alternate;return e===le||t!==null&&t===le}function Jf(e,t){Ha=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Fo(e,n)}}var Hi={readContext:Fe,use:es,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Hi.useEffectEvent=xe;var If={readContext:Fe,use:es,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:xf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ns(4194308,4,Lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){ns(4,2,e,t)},useMemo:function(e,t){var n=st();t=t===void 0?null:t;var i=e();if(ra){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=st();if(n!==void 0){var u=n(t);if(ra){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=pm.bind(null,le,e),[i.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=cu(e);var t=e.queue,n=Qf.bind(null,le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:du,useDeferredValue:function(e,t){var n=st();return gu(n,e,t)},useTransition:function(){var e=cu(!1);return e=$f.bind(null,le,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=le,u=st();if(ye){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Re===null)throw Error(r(349));(de&127)!==0||vf(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,xf(_f.bind(null,i,o,e),[e]),i.flags|=2048,$a(9,{destroy:void 0},pf.bind(null,i,o,n,t),null),n},useId:function(){var e=st(),t=Re.identifierPrefix;if(ye){var n=Qt,i=Xt;n=(i&~(1<<32-vt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Wl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=fm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mu,useFormState:Cf,useActionState:Cf,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vu.bind(null,le,!0,n),n.dispatch=t,[e,t]},useMemoCache:ru,useCacheRefresh:function(){return st().memoizedState=vm.bind(null,le)},useEffectEvent:function(e){var t=st(),n={impl:e};return t.memoizedState=n,function(){if((_e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},pu={readContext:Fe,use:es,useCallback:qf,useContext:Fe,useEffect:hu,useImperativeHandle:Bf,useInsertionEffect:kf,useLayoutEffect:Mf,useMemo:Hf,useReducer:ts,useRef:Df,useState:function(){return ts(ln)},useDebugValue:du,useDeferredValue:function(e,t){var n=Be();return Gf(n,Ee.memoizedState,e,t)},useTransition:function(){var e=ts(ln)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:mf,useId:Kf,useHostTransitionStatus:mu,useFormState:Nf,useActionState:Nf,useOptimistic:function(e,t){var n=Be();return wf(n,Ee,e,t)},useMemoCache:ru,useCacheRefresh:Xf};pu.useEffectEvent=zf;var Pf={readContext:Fe,use:es,useCallback:qf,useContext:Fe,useEffect:hu,useImperativeHandle:Bf,useInsertionEffect:kf,useLayoutEffect:Mf,useMemo:Hf,useReducer:ou,useRef:Df,useState:function(){return ou(ln)},useDebugValue:du,useDeferredValue:function(e,t){var n=Be();return Ee===null?gu(n,e,t):Gf(n,Ee.memoizedState,e,t)},useTransition:function(){var e=ou(ln)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:mf,useId:Kf,useHostTransitionStatus:mu,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,t){var n=Be();return Ee!==null?wf(n,Ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ru,useCacheRefresh:Xf};Pf.useEffectEvent=zf;function _u(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=On(i);u.payload=t,n!=null&&(u.callback=n),t=Rn(e,u,i),t!==null&&(dt(t,e,i),zi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=On(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Rn(e,u,i),t!==null&&(dt(t,e,i),zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),i=On(n);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,n),t!==null&&(dt(t,e,n),zi(t,e,n))}};function Wf(e,t,n,i,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,h):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,i)||!Oi(u,o):!0}function Ff(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&bu.enqueueReplaceState(t,t.state,null)}function ua(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function eh(e){Ml(e)}function th(e){console.error(e)}function nh(e){Ml(e)}function ls(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ah(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Su(e,t,n){return n=On(n),n.tag=3,n.payload={element:null},n.callback=function(){ls(e,t)},n}function ih(e){return e=On(e),e.tag=3,e}function lh(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){ah(t,n,i)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){ah(t,n,i),typeof u!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function _m(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&za(t,n,u,!0),n=bt.current,n!==null){switch(n.tag){case 31:case 13:return zt===null?vs():n.alternate===null&&ze===0&&(ze=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Xl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xu(e,i,u)),!1;case 22:return n.flags|=65536,i===Xl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xu(e,i,u)),!1}throw Error(r(435,n.tag))}return Xu(e,i,u),vs(),!1}if(ye)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Hr&&(e=Error(r(422),{cause:i}),Ni(jt(e,n)))):(i!==Hr&&(t=Error(r(423),{cause:i}),Ni(jt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=jt(i,n),u=Su(e.stateNode,i,u),Pr(e,u),ze!==4&&(ze=2)),!1;var o=Error(r(520),{cause:i});if(o=jt(o,n),Ji===null?Ji=[o]:Ji.push(o),ze!==4&&(ze=2),t===null)return!0;i=jt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Su(n.stateNode,i,e),Pr(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(xn===null||!xn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=ih(u),lh(u,e,n,i),Pr(n,u),!1}n=n.return}while(n!==null);return!1}var wu=Error(r(461)),$e=!1;function et(e,t,n,i){t.child=e===null?of(t,null,n,i):sa(t,e.child,n,i)}function sh(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var h={};for(var v in i)v!=="ref"&&(h[v]=i[v])}else h=i;return na(t),i=au(e,t,n,h,o,u),v=iu(),e!==null&&!$e?(lu(e,t,u),sn(e,t,u)):(ye&&v&&Br(t),t.flags|=1,et(e,t,i,u),t.child)}function rh(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!kr(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,uh(e,t,o,i,u)):(e=Hl(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!ju(e,u)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(h,i)&&e.ref===t.ref)return sn(e,t,u)}return t.flags|=1,e=Ft(o,i),e.ref=t.ref,e.return=t,t.child=e}function uh(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(Oi(o,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=o,ju(e,u))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,sn(e,t,u)}return Eu(e,t,n,i,u)}function oh(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return ch(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yl(t,o!==null?o.cachePool:null),o!==null?hf(t,o):Fr(),df(t);else return i=t.lanes=536870912,ch(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Yl(t,o.cachePool),hf(t,o),Nn(),t.memoizedState=null):(e!==null&&Yl(t,null),Fr(),Nn());return et(e,t,u,n),t.child}function Gi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ch(e,t,n,i,u){var o=Qr();return o=o===null?null:{parent:He._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Yl(t,null),Fr(),df(t),e!==null&&za(e,t,i,!0),t.childLanes=u,null}function ss(e,t){return t=us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fh(e,t,n){return sa(t,e.child,null,n),e=ss(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function bm(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(i.mode==="hidden")return e=ss(t,i),t.lanes=536870912,Gi(null,e);if(tu(t),(e=Ne)?(e=Ed(e,xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},n=Qc(e),n.return=t,t.child=n,We=t,Ne=null)):e=null,e===null)throw En(t);return t.lanes=536870912,null}return ss(t,i)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(tu(t),u)if(t.flags&256)t.flags&=-257,t=fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if($e||za(e,t,n,!1),u=(n&e.childLanes)!==0,$e||u){if(i=Re,i!==null&&(h=ec(i,n),h!==0&&h!==o.retryLane))throw o.retryLane=h,Wn(e,h),dt(i,e,h),wu;vs(),t=fh(e,t,n)}else e=o.treeContext,Ne=kt(h.nextSibling),We=t,ye=!0,wn=null,xt=!1,e!==null&&Ic(t,e),t=ss(t,i),t.flags|=4096;return t}return e=Ft(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Eu(e,t,n,i,u){return na(t),n=au(e,t,n,i,void 0,u),i=iu(),e!==null&&!$e?(lu(e,t,u),sn(e,t,u)):(ye&&i&&Br(t),t.flags|=1,et(e,t,n,u),t.child)}function hh(e,t,n,i,u,o){return na(t),t.updateQueue=null,n=yf(t,i,n,u),gf(e),i=iu(),e!==null&&!$e?(lu(e,t,o),sn(e,t,o)):(ye&&i&&Br(t),t.flags|=1,et(e,t,n,o),t.child)}function dh(e,t,n,i,u){if(na(t),t.stateNode===null){var o=ja,h=n.contextType;typeof h=="object"&&h!==null&&(o=Fe(h)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Zr(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?Fe(h):ja,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(_u(t,n,h,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&bu.enqueueReplaceState(o,o.state,null),Mi(t,i,o,u),ki(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,p=ua(n,v);o.props=p;var R=o.context,z=n.contextType;h=ja,typeof z=="object"&&z!==null&&(h=Fe(z));var L=n.getDerivedStateFromProps;z=typeof L=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,z||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||R!==h)&&Ff(t,o,i,h),An=!1;var C=t.memoizedState;o.state=C,Mi(t,i,o,u),ki(),R=t.memoizedState,v||C!==R||An?(typeof L=="function"&&(_u(t,n,L,i),R=t.memoizedState),(p=An||Wf(t,n,p,i,C,R,h))?(z||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),o.props=i,o.state=R,o.context=h,i=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ir(e,t),h=t.memoizedProps,z=ua(n,h),o.props=z,L=t.pendingProps,C=o.context,R=n.contextType,p=ja,typeof R=="object"&&R!==null&&(p=Fe(R)),v=n.getDerivedStateFromProps,(R=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==L||C!==p)&&Ff(t,o,i,p),An=!1,C=t.memoizedState,o.state=C,Mi(t,i,o,u),ki();var U=t.memoizedState;h!==L||C!==U||An||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof v=="function"&&(_u(t,n,v,i),U=t.memoizedState),(z=An||Wf(t,n,z,i,C,U,p)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,U,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,U,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),o.props=i,o.state=U,o.context=p,i=z):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,rs(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=sa(t,e.child,null,u),t.child=sa(t,null,n,u)):et(e,t,n,u),t.memoizedState=o.state,e=t.child):e=sn(e,t,u),e}function gh(e,t,n,i){return ea(),t.flags|=256,et(e,t,n,i),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:nf()}}function Ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Et),e}function yh(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(u?Cn(t):Nn(),(e=Ne)?(e=Ed(e,xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},n=Qc(e),n.return=t,t.child=n,We=t,Ne=null)):e=null,e===null)throw En(t);return uo(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,u?(Nn(),u=t.mode,v=us({mode:"hidden",children:v},u),i=Fn(i,u,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Au(n),i.childLanes=Ou(e,h,n),t.memoizedState=Tu,Gi(null,i)):(Cn(t),Ru(t,v))}var p=e.memoizedState;if(p!==null&&(v=p.dehydrated,v!==null)){if(o)t.flags&256?(Cn(t),t.flags&=-257,t=Cu(e,t,n)):t.memoizedState!==null?(Nn(),t.child=e.child,t.flags|=128,t=null):(Nn(),v=i.fallback,u=t.mode,i=us({mode:"visible",children:i.children},u),v=Fn(v,u,n,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,sa(t,e.child,null,n),i=t.child,i.memoizedState=Au(n),i.childLanes=Ou(e,h,n),t.memoizedState=Tu,t=Gi(null,i));else if(Cn(t),uo(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var R=h.dgst;h=R,i=Error(r(419)),i.stack="",i.digest=h,Ni({value:i,source:null,stack:null}),t=Cu(e,t,n)}else if($e||za(e,t,n,!1),h=(n&e.childLanes)!==0,$e||h){if(h=Re,h!==null&&(i=ec(h,n),i!==0&&i!==p.retryLane))throw p.retryLane=i,Wn(e,i),dt(h,e,i),wu;ro(v)||vs(),t=Cu(e,t,n)}else ro(v)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ne=kt(v.nextSibling),We=t,ye=!0,wn=null,xt=!1,e!==null&&Ic(t,e),t=Ru(t,i.children),t.flags|=4096);return t}return u?(Nn(),v=i.fallback,u=t.mode,p=e.child,R=p.sibling,i=Ft(p,{mode:"hidden",children:i.children}),i.subtreeFlags=p.subtreeFlags&65011712,R!==null?v=Ft(R,v):(v=Fn(v,u,n,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,Gi(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Au(n):(u=v.cachePool,u!==null?(p=He._currentValue,u=u.parent!==p?{parent:p,pool:p}:u):u=nf(),v={baseLanes:v.baseLanes|n,cachePool:u}),i.memoizedState=v,i.childLanes=Ou(e,h,n),t.memoizedState=Tu,Gi(e.child,i)):(Cn(t),n=e.child,e=n.sibling,n=Ft(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Ru(e,t){return t=us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function us(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function Cu(e,t,n){return sa(t,e.child,null,n),e=Ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vr(e.return,t,n)}function Nu(e,t,n,i,u,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=u,h.treeForkCount=o)}function vh(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var h=Le.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,Y(Le,h),et(e,t,i,n),i=ye?Ci:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mh(e,n,t);else if(e.tag===19)mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Il(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Nu(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Il(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Nu(t,!0,n,null,o,i);break;case"together":Nu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ju(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function Sm(e,t,n){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Tn(t,He,e.memoizedState.cache),ea();break;case 27:case 5:di(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Tn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Cn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?yh(e,t,n):(Cn(t),e=sn(e,t,n),e!==null?e.sibling:null);Cn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(za(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return vh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(Le,Le.current),i)break;return null;case 22:return t.lanes=0,oh(e,t,n,t.pendingProps);case 24:Tn(t,He,e.memoizedState.cache)}return sn(e,t,n)}function ph(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!ju(e,n)&&(t.flags&128)===0)return $e=!1,Sm(e,t,n);$e=(e.flags&131072)!==0}else $e=!1,ye&&(t.flags&1048576)!==0&&Zc(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")kr(e)?(i=ua(e,i),t.tag=1,t=dh(null,t,e,i,n)):(t.tag=0,t=Eu(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===K){t.tag=11,t=sh(null,t,e,i,n);break e}else if(u===Q){t.tag=14,t=rh(null,t,e,i,n);break e}}throw t=Bt(e)||e,Error(r(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=ua(i,t.pendingProps),dh(e,t,i,u,n);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Ir(e,t),Mi(t,i,null,n);var h=t.memoizedState;if(i=h.cache,Tn(t,He,i),i!==o.cache&&Yr(t,[He],n,!0),ki(),i=h.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=gh(e,t,i,n);break e}else if(i!==u){u=jt(Error(r(424)),t),Ni(u),t=gh(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ne=kt(e.firstChild),We=t,ye=!0,wn=null,xt=!0,n=of(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),i===u){t=sn(e,t,n);break e}et(e,t,i,n)}t=t.child}return t;case 26:return rs(e,t),e===null?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,i=Ts(oe.current).createElement(n),i[Pe]=t,i[rt]=e,tt(i,n,e),Je(i),t.stateNode=i):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return di(t),e===null&&ye&&(i=t.stateNode=Od(t.type,t.pendingProps,oe.current),We=t,xt=!0,u=Ne,Ln(t.type)?(oo=u,Ne=kt(i.firstChild)):Ne=u),et(e,t,t.pendingProps.children,n),rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((u=i=Ne)&&(i=Pm(i,t.type,t.pendingProps,xt),i!==null?(t.stateNode=i,We=t,Ne=kt(i.firstChild),xt=!1,u=!0):u=!1),u||En(t)),di(t),u=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,i=o.children,io(u,o)?i=null:h!==null&&io(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=au(e,t,hm,null,null,n),nl._currentValue=u),rs(e,t),et(e,t,i,n),t.child;case 6:return e===null&&ye&&((e=n=Ne)&&(n=Wm(n,t.pendingProps,xt),n!==null?(t.stateNode=n,We=t,Ne=null,e=!0):e=!1),e||En(t)),null;case 13:return yh(e,t,n);case 4:return lt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=sa(t,null,i,n):et(e,t,i,n),t.child;case 11:return sh(e,t,t.type,t.pendingProps,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Tn(t,t.type,i.value),et(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,na(t),u=Fe(u),i=i(u),t.flags|=1,et(e,t,i,n),t.child;case 14:return rh(e,t,t.type,t.pendingProps,n);case 15:return uh(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return bm(e,t,n);case 22:return oh(e,t,n,t.pendingProps);case 24:return na(t),i=Fe(He),e===null?(u=Qr(),u===null&&(u=Re,o=Kr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},Zr(t),Tn(t,He,u)):((e.lanes&n)!==0&&(Ir(e,t),Mi(t,null,null,n),ki()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Tn(t,He,i)):(i=o.cache,Tn(t,He,i),i!==u.cache&&Yr(t,[He],n,!0))),et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function rn(e){e.flags|=4}function Uu(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Kh())e.flags|=8192;else throw la=Xl,Jr}else e.flags&=-16777217}function _h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zd(t))if(Kh())e.flags|=8192;else throw la=Xl,Jr}function os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Po():536870912,e.lanes|=t,Xa|=t)}function $i(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function wm(e,t,n){var i=t.pendingProps;switch(qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nn(He),Me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xa(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gr())),je(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(rn(t),o!==null?(je(t),_h(t,o)):(je(t),Uu(t,u,null,i,n))):o?o!==e.memoizedState?(rn(t),je(t),_h(t,o)):(je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&rn(t),je(t),Uu(t,u,e,i,n)),null;case 27:if(bl(t),n=oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return je(t),null}e=J.current,xa(t)?Pc(t):(e=Od(u,i,n),t.stateNode=e,rn(t))}return je(t),null;case 5:if(bl(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return je(t),null}if(o=J.current,xa(t))Pc(t);else{var h=Ts(oe.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?h.createElement(u,{is:i.is}):h.createElement(u)}}o[Pe]=t,o[rt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(tt(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rn(t)}}return je(t),Uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=oe.current,xa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=We,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||yd(e.nodeValue,n)),e||En(t,!0)}else e=Ts(e).createTextNode(i),e[Pe]=t,t.stateNode=e}return je(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=xa(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Pe]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),e=!1}else n=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(r(558))}return je(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=xa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Pe]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),u=!1}else u=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),os(t,t.updateQueue),je(t),null);case 4:return Me(),e===null&&Fu(t.stateNode.containerInfo),je(t),null;case 10:return nn(t.type),je(t),null;case 19:if(B(Le),i=t.memoizedState,i===null)return je(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)$i(i,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Il(e),o!==null){for(t.flags|=128,$i(i,!1),e=o.updateQueue,t.updateQueue=e,os(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xc(n,e),n=n.sibling;return Y(Le,Le.current&1|2),ye&&en(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&yt()>gs&&(t.flags|=128,u=!0,$i(i,!1),t.lanes=4194304)}else{if(!u)if(e=Il(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,os(t,e),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return je(t),null}else 2*yt()-i.renderingStartTime>gs&&n!==536870912&&(t.flags|=128,u=!0,$i(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=Le.current,Y(Le,u?n&1|2:n&1),ye&&en(t,i.treeForkCount),e):(je(t),null);case 22:case 23:return St(t),eu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),n=t.updateQueue,n!==null&&os(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&B(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nn(He),je(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Em(e,t){switch(qr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(He),Me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bl(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(r(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Le),null;case 4:return Me(),null;case 10:return nn(t.type),null;case 22:case 23:return St(t),eu(),e!==null&&B(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(He),null;case 25:return null;default:return null}}function bh(e,t){switch(qr(t),t.tag){case 3:nn(He),Me();break;case 26:case 27:case 5:bl(t);break;case 4:Me();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:B(Le);break;case 10:nn(t.type);break;case 22:case 23:St(t),eu(),e!==null&&B(aa);break;case 24:nn(He)}}function Vi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,h=n.inst;i=o(),h.destroy=i}n=n.next}while(n!==u)}}catch(v){we(t,t.return,v)}}function jn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var h=i.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,u=t;var p=n,R=v;try{R()}catch(z){we(u,p,z)}}}i=i.next}while(i!==o)}}catch(z){we(t,t.return,z)}}function Sh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ff(t,n)}catch(i){we(e,e.return,i)}}}function wh(e,t,n){n.props=ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){we(e,t,i)}}function Yi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){we(e,t,u)}}function Jt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){we(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){we(e,t,u)}else n.current=null}function Eh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){we(e,e.return,u)}}function Du(e,t,n){try{var i=e.stateNode;Km(i,e.type,n,t),i[rt]=t}catch(u){we(e,e.return,u)}}function Th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ln(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ln(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pt));else if(i!==4&&(i===27&&Ln(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function cs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ln(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(cs(e,t,n),e=e.sibling;e!==null;)cs(e,t,n),e=e.sibling}function Ah(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);tt(t,i,n),t[Pe]=e,t[rt]=n}catch(o){we(e,e.return,o)}}var un=!1,Ve=!1,ku=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Tm(e,t){if(e=e.containerInfo,no=Us,e=Lc(e),Cr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,v=-1,p=-1,R=0,z=0,L=e,C=null;t:for(;;){for(var U;L!==n||u!==0&&L.nodeType!==3||(v=h+u),L!==o||i!==0&&L.nodeType!==3||(p=h+i),L.nodeType===3&&(h+=L.nodeValue.length),(U=L.firstChild)!==null;)C=L,L=U;for(;;){if(L===e)break t;if(C===n&&++R===u&&(v=h),C===o&&++z===i&&(p=h),(U=L.nextSibling)!==null)break;L=C,C=L.parentNode}L=U}n=v===-1||p===-1?null:{start:v,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(ao={focusedElem:e,selectionRange:n},Us=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var X=ua(n.type,u);e=i.getSnapshotBeforeUpdate(X,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(W){we(n,n.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)so(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":so(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Rh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),i&4&&Vi(5,n);break;case 1:if(cn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){we(n,n.return,h)}else{var u=ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){we(n,n.return,h)}}i&64&&Sh(n),i&512&&Yi(n,n.return);break;case 3:if(cn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ff(e,t)}catch(h){we(n,n.return,h)}}break;case 27:t===null&&i&4&&Ah(n);case 26:case 5:cn(e,n),t===null&&i&4&&Eh(n),i&512&&Yi(n,n.return);break;case 12:cn(e,n);break;case 31:cn(e,n),i&4&&jh(e,n);break;case 13:cn(e,n),i&4&&Uh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=xm.bind(null,n),Fm(e,n))));break;case 22:if(i=n.memoizedState!==null||un,!i){t=t!==null&&t.memoizedState!==null||Ve,u=un;var o=Ve;un=i,(Ve=t)&&!o?fn(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),un=u,Ve=o}break;case 30:break;default:cn(e,n)}}function Ch(e){var t=e.alternate;t!==null&&(e.alternate=null,Ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,ot=!1;function on(e,t,n){for(n=n.child;n!==null;)Nh(e,t,n),n=n.sibling}function Nh(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(gi,n)}catch{}switch(n.tag){case 26:Ve||Jt(n,t),on(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||Jt(n,t);var i=Ue,u=ot;Ln(n.type)&&(Ue=n.stateNode,ot=!1),on(e,t,n),Fi(n.stateNode),Ue=i,ot=u;break;case 5:Ve||Jt(n,t);case 6:if(i=Ue,u=ot,Ue=null,on(e,t,n),Ue=i,ot=u,Ue!==null)if(ot)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(o){we(n,t,o)}else try{Ue.removeChild(n.stateNode)}catch(o){we(n,t,o)}break;case 18:Ue!==null&&(ot?(e=Ue,Sd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ei(e)):Sd(Ue,n.stateNode));break;case 4:i=Ue,u=ot,Ue=n.stateNode.containerInfo,ot=!0,on(e,t,n),Ue=i,ot=u;break;case 0:case 11:case 14:case 15:jn(2,n,t),Ve||jn(4,n,t),on(e,t,n);break;case 1:Ve||(Jt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&wh(n,t,i)),on(e,t,n);break;case 21:on(e,t,n);break;case 22:Ve=(i=Ve)||n.memoizedState!==null,on(e,t,n),Ve=i;break;default:on(e,t,n)}}function jh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(n){we(t,t.return,n)}}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(n){we(t,t.return,n)}}function Am(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Oh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Oh),t;default:throw Error(r(435,e.tag))}}function fs(e,t){var n=Am(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=zm.bind(null,e,i);i.then(u,u)}})}function ct(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Ln(v.type)){Ue=v.stateNode,ot=!1;break e}break;case 5:Ue=v.stateNode,ot=!1;break e;case 3:case 4:Ue=v.stateNode.containerInfo,ot=!0;break e}v=v.return}if(Ue===null)throw Error(r(160));Nh(o,h,u),Ue=null,ot=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}var Ht=null;function Dh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ft(e),i&4&&(jn(3,e,e.return),Vi(3,e),jn(5,e,e.return));break;case 1:ct(t,e),ft(e),i&512&&(Ve||n===null||Jt(n,n.return)),i&64&&un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=Ht;if(ct(t,e),ft(e),i&512&&(Ve||n===null||Jt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[vi]||o[Pe]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),tt(o,i,n),o[Pe]=e,Je(o),i=o;break e;case"link":var h=Dd("link","href",u).get(i+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(o=h[v],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}o=u.createElement(i),tt(o,i,n),u.head.appendChild(o);break;case"meta":if(h=Dd("meta","content",u).get(i+(n.content||""))){for(v=0;v<h.length;v++)if(o=h[v],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}o=u.createElement(i),tt(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[Pe]=e,Je(o),i=o}e.stateNode=i}else xd(u,e.type,e.stateNode);else e.stateNode=Ud(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?xd(u,e.type,e.stateNode):Ud(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Du(e,e.memoizedProps,n.memoizedProps)}break;case 27:ct(t,e),ft(e),i&512&&(Ve||n===null||Jt(n,n.return)),n!==null&&i&4&&Du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ct(t,e),ft(e),i&512&&(Ve||n===null||Jt(n,n.return)),e.flags&32){u=e.stateNode;try{Ea(u,"")}catch(X){we(e,e.return,X)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Du(e,u,n!==null?n.memoizedProps:u)),i&1024&&(ku=!0);break;case 6:if(ct(t,e),ft(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(X){we(e,e.return,X)}}break;case 3:if(Rs=null,u=Ht,Ht=As(t.containerInfo),ct(t,e),Ht=u,ft(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(X){we(e,e.return,X)}ku&&(ku=!1,xh(e));break;case 4:i=Ht,Ht=As(e.stateNode.containerInfo),ct(t,e),ft(e),Ht=i;break;case 12:ct(t,e),ft(e);break;case 31:ct(t,e),ft(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fs(e,i)));break;case 13:ct(t,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ds=yt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fs(e,i)));break;case 22:u=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,R=un,z=Ve;if(un=R||u,Ve=z||p,ct(t,e),Ve=z,un=R,ft(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||p||un||Ve||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(o=p.stateNode,u)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=p.stateNode;var L=p.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(X){we(p,p.return,X)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(X){we(p,p.return,X)}}}else if(t.tag===18){if(n===null){p=t;try{var U=p.stateNode;u?wd(U,!0):wd(p.stateNode,!1)}catch(X){we(p,p.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,fs(e,n))));break;case 19:ct(t,e),ft(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fs(e,i)));break;case 30:break;case 21:break;default:ct(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Th(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=xu(e);cs(e,o,u);break;case 5:var h=n.stateNode;n.flags&32&&(Ea(h,""),n.flags&=-33);var v=xu(e);cs(e,v,h);break;case 3:case 4:var p=n.stateNode.containerInfo,R=xu(e);zu(e,R,p);break;default:throw Error(r(161))}}catch(z){we(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rh(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jn(4,t,t.return),oa(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wh(t,t.return,n),oa(t);break;case 27:Fi(t.stateNode);case 26:case 5:Jt(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:fn(u,o,n),Vi(4,o);break;case 1:if(fn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){we(i,i.return,R)}if(i=o,u=i.updateQueue,u!==null){var v=i.stateNode;try{var p=u.shared.hiddenCallbacks;if(p!==null)for(u.shared.hiddenCallbacks=null,u=0;u<p.length;u++)cf(p[u],v)}catch(R){we(i,i.return,R)}}n&&h&64&&Sh(o),Yi(o,o.return);break;case 27:Ah(o);case 26:case 5:fn(u,o,n),n&&i===null&&h&4&&Eh(o),Yi(o,o.return);break;case 12:fn(u,o,n);break;case 31:fn(u,o,n),n&&h&4&&jh(u,o);break;case 13:fn(u,o,n),n&&h&4&&Uh(u,o);break;case 22:o.memoizedState===null&&fn(u,o,n),Yi(o,o.return);break;case 30:break;default:fn(u,o,n)}t=t.sibling}}function Mu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ji(n))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ji(e))}function Gt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zh(e,t,n,i),t=t.sibling}function zh(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,n,i),u&2048&&Vi(9,t);break;case 1:Gt(e,t,n,i);break;case 3:Gt(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ji(e)));break;case 12:if(u&2048){Gt(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,v=o.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){we(t,t.return,p)}}else Gt(e,t,n,i);break;case 31:Gt(e,t,n,i);break;case 13:Gt(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Gt(e,t,n,i):Ki(e,t):o._visibility&2?Gt(e,t,n,i):(o._visibility|=2,Va(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Mu(h,t);break;case 24:Gt(e,t,n,i),u&2048&&Lu(t.alternate,t);break;default:Gt(e,t,n,i)}}function Va(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,v=n,p=i,R=h.flags;switch(h.tag){case 0:case 11:case 15:Va(o,h,v,p,u),Vi(8,h);break;case 23:break;case 22:var z=h.stateNode;h.memoizedState!==null?z._visibility&2?Va(o,h,v,p,u):Ki(o,h):(z._visibility|=2,Va(o,h,v,p,u)),u&&R&2048&&Mu(h.alternate,h);break;case 24:Va(o,h,v,p,u),u&&R&2048&&Lu(h.alternate,h);break;default:Va(o,h,v,p,u)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:Ki(n,i),u&2048&&Mu(i.alternate,i);break;case 24:Ki(n,i),u&2048&&Lu(i.alternate,i);break;default:Ki(n,i)}t=t.sibling}}var Xi=8192;function Ya(e,t,n){if(e.subtreeFlags&Xi)for(e=e.child;e!==null;)kh(e,t,n),e=e.sibling}function kh(e,t,n){switch(e.tag){case 26:Ya(e,t,n),e.flags&Xi&&e.memoizedState!==null&&fv(n,Ht,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,n);break;case 3:case 4:var i=Ht;Ht=As(e.stateNode.containerInfo),Ya(e,t,n),Ht=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xi,Xi=16777216,Ya(e,t,n),Xi=i):Ya(e,t,n));break;default:Ya(e,t,n)}}function Mh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Bh(i,e)}Mh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lh(e),e=e.sibling}function Lh(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&jn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hs(e)):Qi(e);break;default:Qi(e)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Bh(i,e)}Mh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jn(8,t,t.return),hs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hs(t));break;default:hs(t)}e=e.sibling}}function Bh(e,t){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:jn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ji(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=e;Ze!==null;){i=Ze;var u=i.sibling,o=i.return;if(Ch(i),i===n){Ze=null;break e}if(u!==null){u.return=o,Ze=u;break e}Ze=o}}}var Om={getCacheForType:function(e){var t=Fe(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Fe(He).controller.signal}},Rm=typeof WeakMap=="function"?WeakMap:Map,_e=0,Re=null,ce=null,de=0,Se=0,wt=null,Un=!1,Ka=!1,Bu=!1,hn=0,ze=0,Dn=0,ca=0,qu=0,Et=0,Xa=0,Ji=null,ht=null,Hu=!1,ds=0,qh=0,gs=1/0,ys=null,xn=null,Ke=0,zn=null,Qa=null,dn=0,Gu=0,$u=null,Hh=null,Zi=0,Vu=null;function Tt(){return(_e&2)!==0&&de!==0?de&-de:j.T!==null?Zu():tc()}function Gh(){if(Et===0)if((de&536870912)===0||ye){var e=El;El<<=1,(El&3932160)===0&&(El=262144),Et=e}else Et=536870912;return e=bt.current,e!==null&&(e.flags|=32),Et}function dt(e,t,n){(e===Re&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),kn(e,de,Et,!1)),mi(e,n),((_e&2)===0||e!==Re)&&(e===Re&&((_e&2)===0&&(ca|=n),ze===4&&kn(e,de,Et,!1)),Zt(e))}function $h(e,t,n){if((_e&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||yi(e,t),u=i?jm(e,t):Ku(e,t,!0),o=i;do{if(u===0){Ka&&!i&&kn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Cm(n)){u=Ku(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;u=Ji;var p=v.current.memoizedState.isDehydrated;if(p&&(Ja(v,h).flags|=256),h=Ku(v,h,!1),h!==2){if(Bu&&!p){v.errorRecoveryDisabledLanes|=o,ca|=o,u=4;break e}o=ht,ht=u,o!==null&&(ht===null?ht=o:ht.push.apply(ht,o))}u=h}if(o=!1,u!==2)continue}}if(u===1){Ja(e,0),kn(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:kn(i,t,Et,!Un);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=ds+300-yt(),10<u)){if(kn(i,t,Et,!Un),Al(i,0,!0)!==0)break e;dn=t,i.timeoutHandle=_d(Vh.bind(null,i,n,ht,ys,Hu,t,Et,ca,Xa,Un,o,"Throttled",-0,0),u);break e}Vh(i,n,ht,ys,Hu,t,Et,ca,Xa,Un,o,null,-0,0)}}break}while(!0);Zt(e)}function Vh(e,t,n,i,u,o,h,v,p,R,z,L,C,U){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt},kh(t,o,L);var X=(o&62914560)===o?ds-yt():(o&4194048)===o?qh-yt():0;if(X=hv(L,X),X!==null){dn=o,e.cancelPendingCommit=X(Ph.bind(null,e,t,o,n,i,u,h,v,p,z,L,null,C,U)),kn(e,o,h,!R);return}}Ph(e,t,o,n,i,u,h,v,p)}function Cm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!pt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t,n,i){t&=~qu,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-vt(u),h=1<<o;i[o]=-1,u&=~h}n!==0&&Wo(e,n,t)}function ms(){return(_e&6)===0?(Ii(0),!1):!0}function Yu(){if(ce!==null){if(Se===0)var e=ce.return;else e=ce,tn=ta=null,su(e),Ba=null,Di=0,e=ce;for(;e!==null;)bh(e.alternate,e),e=e.return;ce=null}}function Ja(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jm(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dn=0,Yu(),Re=e,ce=n=Ft(e.current,null),de=t,Se=0,wt=null,Un=!1,Ka=yi(e,t),Bu=!1,Xa=Et=qu=ca=Dn=ze=0,ht=Ji=null,Hu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-vt(i),o=1<<u;t|=e[u],i&=~o}return hn=t,Ll(),n}function Yh(e,t){le=null,j.H=Hi,t===La||t===Kl?(t=sf(),Se=3):t===Jr?(t=sf(),Se=4):Se=t===wu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,ce===null&&(ze=1,ls(e,jt(t,e.current)))}function Kh(){var e=bt.current;return e===null?!0:(de&4194048)===de?zt===null:(de&62914560)===de||(de&536870912)!==0?e===zt:!1}function Xh(){var e=j.H;return j.H=Hi,e===null?Hi:e}function Qh(){var e=j.A;return j.A=Om,e}function vs(){ze=4,Un||(de&4194048)!==de&&bt.current!==null||(Ka=!0),(Dn&134217727)===0&&(ca&134217727)===0||Re===null||kn(Re,de,Et,!1)}function Ku(e,t,n){var i=_e;_e|=2;var u=Xh(),o=Qh();(Re!==e||de!==t)&&(ys=null,Ja(e,t)),t=!1;var h=ze;e:do try{if(Se!==0&&ce!==null){var v=ce,p=wt;switch(Se){case 8:Yu(),h=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var R=Se;if(Se=0,wt=null,Za(e,v,p,R),n&&Ka){h=0;break e}break;default:R=Se,Se=0,wt=null,Za(e,v,p,R)}}Nm(),h=ze;break}catch(z){Yh(e,z)}while(!0);return t&&e.shellSuspendCounter++,tn=ta=null,_e=i,j.H=u,j.A=o,ce===null&&(Re=null,de=0,Ll()),h}function Nm(){for(;ce!==null;)Jh(ce)}function jm(e,t){var n=_e;_e|=2;var i=Xh(),u=Qh();Re!==e||de!==t?(ys=null,gs=yt()+500,Ja(e,t)):Ka=yi(e,t);e:do try{if(Se!==0&&ce!==null){t=ce;var o=wt;t:switch(Se){case 1:Se=0,wt=null,Za(e,t,o,1);break;case 2:case 9:if(af(o)){Se=0,wt=null,Zh(t);break}t=function(){Se!==2&&Se!==9||Re!==e||(Se=7),Zt(e)},o.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:af(o)?(Se=0,wt=null,Zh(t)):(Se=0,wt=null,Za(e,t,o,7));break;case 5:var h=null;switch(ce.tag){case 26:h=ce.memoizedState;case 5:case 27:var v=ce;if(h?zd(h):v.stateNode.complete){Se=0,wt=null;var p=v.sibling;if(p!==null)ce=p;else{var R=v.return;R!==null?(ce=R,ps(R)):ce=null}break t}}Se=0,wt=null,Za(e,t,o,5);break;case 6:Se=0,wt=null,Za(e,t,o,6);break;case 8:Yu(),ze=6;break e;default:throw Error(r(462))}}Um();break}catch(z){Yh(e,z)}while(!0);return tn=ta=null,j.H=i,j.A=u,_e=n,ce!==null?0:(Re=null,de=0,Ll(),ze)}function Um(){for(;ce!==null&&!ey();)Jh(ce)}function Jh(e){var t=ph(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?ps(e):ce=t}function Zh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hh(n,t,t.pendingProps,t.type,void 0,de);break;case 11:t=hh(n,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:su(t);default:bh(n,t),t=ce=Xc(t,hn),t=ph(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?ps(e):ce=t}function Za(e,t,n,i){tn=ta=null,su(t),Ba=null,Di=0;var u=t.return;try{if(_m(e,u,t,n,de)){ze=1,ls(e,jt(n,e.current)),ce=null;return}}catch(o){if(u!==null)throw ce=u,o;ze=1,ls(e,jt(n,e.current)),ce=null;return}t.flags&32768?(ye||i===1?e=!0:Ka||(de&536870912)!==0?e=!1:(Un=e=!0,(i===2||i===9||i===3||i===6)&&(i=bt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ih(t,e)):ps(t)}function ps(e){var t=e;do{if((t.flags&32768)!==0){Ih(t,Un);return}e=t.return;var n=wm(t.alternate,t,hn);if(n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);ze===0&&(ze=5)}function Ih(e,t){do{var n=Em(e.alternate,e);if(n!==null){n.flags&=32767,ce=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=n}while(e!==null);ze=6,ce=null}function Ph(e,t,n,i,u,o,h,v,p){e.cancelPendingCommit=null;do _s();while(Ke!==0);if((_e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=xr,cy(e,n,o,h,v,p),e===Re&&(ce=Re=null,de=0),Qa=t,zn=e,dn=n,Gu=o,$u=u,Hh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,km(Sl,function(){return nd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null,u=G.p,G.p=2,h=_e,_e|=4;try{Tm(e,t,n)}finally{_e=h,G.p=u,j.T=i}}Ke=1,Wh(),Fh(),ed()}}function Wh(){if(Ke===1){Ke=0;var e=zn,t=Qa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var i=G.p;G.p=2;var u=_e;_e|=4;try{Dh(t,e);var o=ao,h=Lc(e.containerInfo),v=o.focusedElem,p=o.selectionRange;if(h!==v&&v&&v.ownerDocument&&Mc(v.ownerDocument.documentElement,v)){if(p!==null&&Cr(v)){var R=p.start,z=p.end;if(z===void 0&&(z=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(z,v.value.length);else{var L=v.ownerDocument||document,C=L&&L.defaultView||window;if(C.getSelection){var U=C.getSelection(),X=v.textContent.length,W=Math.min(p.start,X),Ae=p.end===void 0?W:Math.min(p.end,X);!U.extend&&W>Ae&&(h=Ae,Ae=W,W=h);var E=kc(v,W),b=kc(v,Ae);if(E&&b&&(U.rangeCount!==1||U.anchorNode!==E.node||U.anchorOffset!==E.offset||U.focusNode!==b.node||U.focusOffset!==b.offset)){var O=L.createRange();O.setStart(E.node,E.offset),U.removeAllRanges(),W>Ae?(U.addRange(O),U.extend(b.node,b.offset)):(O.setEnd(b.node,b.offset),U.addRange(O))}}}}for(L=[],U=v;U=U.parentNode;)U.nodeType===1&&L.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var M=L[v];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Us=!!no,ao=no=null}finally{_e=u,G.p=i,j.T=n}}e.current=t,Ke=2}}function Fh(){if(Ke===2){Ke=0;var e=zn,t=Qa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var i=G.p;G.p=2;var u=_e;_e|=4;try{Rh(e,t.alternate,t)}finally{_e=u,G.p=i,j.T=n}}Ke=3}}function ed(){if(Ke===4||Ke===3){Ke=0,ty();var e=zn,t=Qa,n=dn,i=Hh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,Qa=zn=null,td(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(xn=null),or(n),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=j.T,u=G.p,G.p=2,j.T=null;try{for(var o=e.onRecoverableError,h=0;h<i.length;h++){var v=i[h];o(v.value,{componentStack:v.stack})}}finally{j.T=t,G.p=u}}(dn&3)!==0&&_s(),Zt(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Vu?Zi++:(Zi=0,Vu=e):Zi=0,Ii(0)}}function td(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ji(t)))}function _s(){return Wh(),Fh(),ed(),nd()}function nd(){if(Ke!==5)return!1;var e=zn,t=Gu;Gu=0;var n=or(dn),i=j.T,u=G.p;try{G.p=32>n?32:n,j.T=null,n=$u,$u=null;var o=zn,h=dn;if(Ke=0,Qa=zn=null,dn=0,(_e&6)!==0)throw Error(r(331));var v=_e;if(_e|=4,Lh(o.current),zh(o,o.current,h,n),_e=v,Ii(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(gi,o)}catch{}return!0}finally{G.p=u,j.T=i,td(e,t)}}function ad(e,t,n){t=jt(n,t),t=Su(e.stateNode,t,2),e=Rn(e,t,2),e!==null&&(mi(e,2),Zt(e))}function we(e,t,n){if(e.tag===3)ad(e,e,n);else for(;t!==null;){if(t.tag===3){ad(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xn===null||!xn.has(i))){e=jt(n,e),n=ih(2),i=Rn(t,n,2),i!==null&&(lh(n,i,t,e),mi(i,2),Zt(i));break}}t=t.return}}function Xu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Rm;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(Bu=!0,u.add(n),e=Dm.bind(null,e,t,n),t.then(e,e))}function Dm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Re===e&&(de&n)===n&&(ze===4||ze===3&&(de&62914560)===de&&300>yt()-ds?(_e&2)===0&&Ja(e,0):qu|=n,Xa===de&&(Xa=0)),Zt(e)}function id(e,t){t===0&&(t=Po()),e=Wn(e,t),e!==null&&(mi(e,t),Zt(e))}function xm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),id(e,n)}function zm(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),id(e,n)}function km(e,t){return lr(e,t)}var bs=null,Ia=null,Qu=!1,Ss=!1,Ju=!1,Mn=0;function Zt(e){e!==Ia&&e.next===null&&(Ia===null?bs=Ia=e:Ia=Ia.next=e),Ss=!0,Qu||(Qu=!0,Lm())}function Ii(e,t){if(!Ju&&Ss){Ju=!0;do for(var n=!1,i=bs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var h=i.suspendedLanes,v=i.pingedLanes;o=(1<<31-vt(42|e)+1)-1,o&=u&~(h&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ud(i,o))}else o=de,o=Al(i,i===Re?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||yi(i,o)||(n=!0,ud(i,o));i=i.next}while(n);Ju=!1}}function Mm(){ld()}function ld(){Ss=Qu=!1;var e=0;Mn!==0&&Qm()&&(e=Mn);for(var t=yt(),n=null,i=bs;i!==null;){var u=i.next,o=sd(i,t);o===0?(i.next=null,n===null?bs=u:n.next=u,u===null&&(Ia=n)):(n=i,(e!==0||(o&3)!==0)&&(Ss=!0)),i=u}Ke!==0&&Ke!==5||Ii(e),Mn!==0&&(Mn=0)}function sd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-vt(o),v=1<<h,p=u[h];p===-1?((v&n)===0||(v&i)!==0)&&(u[h]=oy(v,t)):p<=t&&(e.expiredLanes|=v),o&=~v}if(t=Re,n=de,n=Al(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&sr(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||yi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&sr(i),or(n)){case 2:case 8:n=Zo;break;case 32:n=Sl;break;case 268435456:n=Io;break;default:n=Sl}return i=rd.bind(null,e),n=lr(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&sr(i),e.callbackPriority=2,e.callbackNode=null,2}function rd(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_s()&&e.callbackNode!==n)return null;var i=de;return i=Al(e,e===Re?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:($h(e,i,t),sd(e,yt()),e.callbackNode!=null&&e.callbackNode===n?rd.bind(null,e):null)}function ud(e,t){if(_s())return null;$h(e,t,!0)}function Lm(){Zm(function(){(_e&6)!==0?lr(Jo,Mm):ld()})}function Zu(){if(Mn===0){var e=ka;e===0&&(e=wl,wl<<=1,(wl&261888)===0&&(wl=256)),Mn=e}return Mn}function od(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function cd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Bm(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=od((u[rt]||null).action),h=i.submitter;h&&(t=(t=h[rt]||null)?od(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var v=new xl("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Mn!==0){var p=h?cd(u,h):new FormData(u);yu(n,{pending:!0,data:p,method:u.method,action:o},null,p)}}else typeof o=="function"&&(v.preventDefault(),p=h?cd(u,h):new FormData(u),yu(n,{pending:!0,data:p,method:u.method,action:o},o,p))},currentTarget:u}]})}}for(var Iu=0;Iu<Dr.length;Iu++){var Pu=Dr[Iu],qm=Pu.toLowerCase(),Hm=Pu[0].toUpperCase()+Pu.slice(1);qt(qm,"on"+Hm)}qt(Hc,"onAnimationEnd"),qt(Gc,"onAnimationIteration"),qt($c,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(nm,"onTransitionRun"),qt(am,"onTransitionStart"),qt(im,"onTransitionCancel"),qt(Vc,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function fd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var h=i.length-1;0<=h;h--){var v=i[h],p=v.instance,R=v.currentTarget;if(v=v.listener,p!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=R;try{o(u)}catch(z){Ml(z)}u.currentTarget=null,o=p}else for(h=0;h<i.length;h++){if(v=i[h],p=v.instance,R=v.currentTarget,v=v.listener,p!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=R;try{o(u)}catch(z){Ml(z)}u.currentTarget=null,o=p}}}}function fe(e,t){var n=t[cr];n===void 0&&(n=t[cr]=new Set);var i=e+"__bubble";n.has(i)||(hd(t,e,2,!1),n.add(i))}function Wu(e,t,n){var i=0;t&&(i|=4),hd(n,e,i,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[ws]){e[ws]=!0,ic.forEach(function(n){n!=="selectionchange"&&(Gm.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Wu("selectionchange",!1,t))}}function hd(e,t,n,i){switch(Gd(t)){case 2:var u=yv;break;case 8:u=mv;break;default:u=yo}n=u.bind(null,t,n,e),u=void 0,!_r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function eo(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var v=i.stateNode.containerInfo;if(v===u)break;if(h===4)for(h=i.return;h!==null;){var p=h.tag;if((p===3||p===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;v!==null;){if(h=pa(v),h===null)return;if(p=h.tag,p===5||p===6||p===26||p===27){i=o=h;continue e}v=v.parentNode}}i=i.return}mc(function(){var R=o,z=vr(n),L=[];e:{var C=Yc.get(e);if(C!==void 0){var U=xl,X=e;switch(e){case"keypress":if(Ul(n)===0)break e;case"keydown":case"keyup":U=zy;break;case"focusin":X="focus",U=Er;break;case"focusout":X="blur",U=Er;break;case"beforeblur":case"afterblur":U=Er;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Ly;break;case Hc:case Gc:case $c:U=Ay;break;case Vc:U=qy;break;case"scroll":case"scrollend":U=by;break;case"wheel":U=Gy;break;case"copy":case"cut":case"paste":U=Ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Sc;break;case"toggle":case"beforetoggle":U=Vy}var W=(t&4)!==0,Ae=!W&&(e==="scroll"||e==="scrollend"),E=W?C!==null?C+"Capture":null:C;W=[];for(var b=R,O;b!==null;){var M=b;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||E===null||(M=_i(b,E),M!=null&&W.push(Wi(b,M,O))),Ae)break;b=b.return}0<W.length&&(C=new U(C,X,null,n,z),L.push({event:C,listeners:W}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&n!==mr&&(X=n.relatedTarget||n.fromElement)&&(pa(X)||X[va]))break e;if((U||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,U?(X=n.relatedTarget||n.toElement,U=R,X=X?pa(X):null,X!==null&&(Ae=f(X),W=X.tag,X!==Ae||W!==5&&W!==27&&W!==6)&&(X=null)):(U=null,X=R),U!==X)){if(W=_c,M="onMouseLeave",E="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(W=Sc,M="onPointerLeave",E="onPointerEnter",b="pointer"),Ae=U==null?C:pi(U),O=X==null?C:pi(X),C=new W(M,b+"leave",U,n,z),C.target=Ae,C.relatedTarget=O,M=null,pa(z)===R&&(W=new W(E,b+"enter",X,n,z),W.target=O,W.relatedTarget=Ae,M=W),Ae=M,U&&X)t:{for(W=$m,E=U,b=X,O=0,M=E;M;M=W(M))O++;M=0;for(var P=b;P;P=W(P))M++;for(;0<O-M;)E=W(E),O--;for(;0<M-O;)b=W(b),M--;for(;O--;){if(E===b||b!==null&&E===b.alternate){W=E;break t}E=W(E),b=W(b)}W=null}else W=null;U!==null&&dd(L,C,U,W,!1),X!==null&&Ae!==null&&dd(L,Ae,X,W,!0)}}e:{if(C=R?pi(R):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var ve=Nc;else if(Rc(C))if(jc)ve=Fy;else{ve=Py;var Z=Iy}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&yr(R.elementType)&&(ve=Nc):ve=Wy;if(ve&&(ve=ve(e,R))){Cc(L,ve,n,z);break e}Z&&Z(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&gr(C,"number",C.value)}switch(Z=R?pi(R):window,e){case"focusin":(Rc(Z)||Z.contentEditable==="true")&&(Ra=Z,Nr=R,Ri=null);break;case"focusout":Ri=Nr=Ra=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,Bc(L,n,z);break;case"selectionchange":if(tm)break;case"keydown":case"keyup":Bc(L,n,z)}var re;if(Ar)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Oa?Ac(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(wc&&n.locale!=="ko"&&(Oa||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Oa&&(re=vc()):(bn=z,br="value"in bn?bn.value:bn.textContent,Oa=!0)),Z=Es(R,ge),0<Z.length&&(ge=new bc(ge,e,null,n,z),L.push({event:ge,listeners:Z}),re?ge.data=re:(re=Oc(n),re!==null&&(ge.data=re)))),(re=Ky?Xy(e,n):Qy(e,n))&&(ge=Es(R,"onBeforeInput"),0<ge.length&&(Z=new bc("onBeforeInput","beforeinput",null,n,z),L.push({event:Z,listeners:ge}),Z.data=re)),Bm(L,e,R,n,z)}fd(L,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Es(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=_i(e,n),u!=null&&i.unshift(Wi(e,u,o)),u=_i(e,t),u!=null&&i.push(Wi(e,u,o))),e.tag===3)return i;e=e.return}return[]}function $m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dd(e,t,n,i,u){for(var o=t._reactName,h=[];n!==null&&n!==i;){var v=n,p=v.alternate,R=v.stateNode;if(v=v.tag,p!==null&&p===i)break;v!==5&&v!==26&&v!==27||R===null||(p=R,u?(R=_i(n,o),R!=null&&h.unshift(Wi(n,R,p))):u||(R=_i(n,o),R!=null&&h.push(Wi(n,R,p)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Vm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function gd(e){return(typeof e=="string"?e:""+e).replace(Vm,`
`).replace(Ym,"")}function yd(e,t){return t=gd(t),gd(e)===t}function Te(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ea(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ea(e,""+i);break;case"className":Rl(e,"class",i);break;case"tabIndex":Rl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,n,i);break;case"style":gc(e,i,o);break;case"data":if(t!=="object"){Rl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Nl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",u.name,u,null),Te(e,t,"formEncType",u.formEncType,u,null),Te(e,t,"formMethod",u.formMethod,u,null),Te(e,t,"formTarget",u.formTarget,u,null)):(Te(e,t,"encType",u.encType,u,null),Te(e,t,"method",u.method,u,null),Te(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Nl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Pt);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Nl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Ol(e,"popover",i);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ol(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=py.get(n)||n,Ol(e,n,i))}}function to(e,t,n,i,u,o){switch(n){case"style":gc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ea(e,i):(typeof i=="number"||typeof i=="bigint")&&Ea(e,""+i);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[rt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ol(e,n,i)}}}function tt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,o,h,n,null)}}u&&Te(e,t,"srcSet",n.srcSet,n,null),i&&Te(e,t,"src",n.src,n,null);return;case"input":fe("invalid",e);var v=o=h=u=null,p=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var z=n[i];if(z!=null)switch(i){case"name":u=z;break;case"type":h=z;break;case"checked":p=z;break;case"defaultChecked":R=z;break;case"value":o=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Te(e,t,i,z,n,null)}}cc(e,o,v,p,R,h,u,!1);return;case"select":fe("invalid",e),i=h=o=null;for(u in n)if(n.hasOwnProperty(u)&&(v=n[u],v!=null))switch(u){case"value":o=v;break;case"defaultValue":h=v;break;case"multiple":i=v;default:Te(e,t,u,v,n,null)}t=o,n=h,e.multiple=!!i,t!=null?wa(e,!!i,t,!1):n!=null&&wa(e,!!i,n,!0);return;case"textarea":fe("invalid",e),o=u=i=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":i=v;break;case"defaultValue":u=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Te(e,t,h,v,n,null)}hc(e,i,u,o);return;case"option":for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!=null)&&(p==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Te(e,t,p,i,n,null));return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(i=0;i<Pi.length;i++)fe(Pi[i],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,R,i,n,null)}return;default:if(yr(t)){for(z in n)n.hasOwnProperty(z)&&(i=n[z],i!==void 0&&to(e,t,z,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Te(e,t,v,i,n,null))}function Km(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,h=null,v=null,p=null,R=null,z=null;for(U in n){var L=n[U];if(n.hasOwnProperty(U)&&L!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":p=L;default:i.hasOwnProperty(U)||Te(e,t,U,null,i,L)}}for(var C in i){var U=i[C];if(L=n[C],i.hasOwnProperty(C)&&(U!=null||L!=null))switch(C){case"type":o=U;break;case"name":u=U;break;case"checked":R=U;break;case"defaultChecked":z=U;break;case"value":h=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==L&&Te(e,t,C,U,i,L)}}dr(e,h,v,p,R,z,o,u);return;case"select":U=h=v=C=null;for(o in n)if(p=n[o],n.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":U=p;default:i.hasOwnProperty(o)||Te(e,t,o,null,i,p)}for(u in i)if(o=i[u],p=n[u],i.hasOwnProperty(u)&&(o!=null||p!=null))switch(u){case"value":C=o;break;case"defaultValue":v=o;break;case"multiple":h=o;default:o!==p&&Te(e,t,u,o,i,p)}t=v,n=h,i=U,C!=null?wa(e,!!n,C,!1):!!i!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":U=C=null;for(v in n)if(u=n[v],n.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Te(e,t,v,null,i,u)}for(h in i)if(u=i[h],o=n[h],i.hasOwnProperty(h)&&(u!=null||o!=null))switch(h){case"value":C=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Te(e,t,h,u,i,o)}fc(e,C,U);return;case"option":for(var X in n)C=n[X],n.hasOwnProperty(X)&&C!=null&&!i.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Te(e,t,X,null,i,C));for(p in i)C=i[p],U=n[p],i.hasOwnProperty(p)&&C!==U&&(C!=null||U!=null)&&(p==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":Te(e,t,p,C,i,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in n)C=n[W],n.hasOwnProperty(W)&&C!=null&&!i.hasOwnProperty(W)&&Te(e,t,W,null,i,C);for(R in i)if(C=i[R],U=n[R],i.hasOwnProperty(R)&&C!==U&&(C!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Te(e,t,R,C,i,U)}return;default:if(yr(t)){for(var Ae in n)C=n[Ae],n.hasOwnProperty(Ae)&&C!==void 0&&!i.hasOwnProperty(Ae)&&to(e,t,Ae,void 0,i,C);for(z in i)C=i[z],U=n[z],!i.hasOwnProperty(z)||C===U||C===void 0&&U===void 0||to(e,t,z,C,i,U);return}}for(var E in n)C=n[E],n.hasOwnProperty(E)&&C!=null&&!i.hasOwnProperty(E)&&Te(e,t,E,null,i,C);for(L in i)C=i[L],U=n[L],!i.hasOwnProperty(L)||C===U||C==null&&U==null||Te(e,t,L,C,i,U)}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,h=u.initiatorType,v=u.duration;if(o&&v&&md(h)){for(h=0,v=u.responseEnd,i+=1;i<n.length;i++){var p=n[i],R=p.startTime;if(R>v)break;var z=p.transferSize,L=p.initiatorType;z&&md(L)&&(p=p.responseEnd,h+=z*(p<v?1:(v-R)/(p-R)))}if(--i,t+=8*(o+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var no=null,ao=null;function Ts(e){return e.nodeType===9?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=null;function Qm(){var e=window.event;return e&&e.type==="popstate"?e===lo?!1:(lo=e,!0):(lo=null,!1)}var _d=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(Im)}:_d;function Im(e){setTimeout(function(){throw e})}function Ln(e){return e==="head"}function Sd(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),ei(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Fi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Fi(n);for(var o=n.firstChild;o;){var h=o.nextSibling,v=o.nodeName;o[vi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=h}}else n==="body"&&Fi(e.ownerDocument.body);n=u}while(n);ei(t)}function wd(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function so(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":so(n),fr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Pm(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[vi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function Wm(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function Ed(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function ro(e){return e.data==="$?"||e.data==="$~"}function uo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fm(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var oo=null;function Td(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Od(e,t,n){switch(t=Ts(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Fi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fr(e)}var Mt=new Map,Rd=new Set;function As(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=G.d;G.d={f:ev,r:tv,D:nv,C:av,L:iv,m:lv,X:rv,S:sv,M:uv};function ev(){var e=gn.f(),t=ms();return e||t}function tv(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?Yf(t):gn.r(e)}var Pa=typeof document>"u"?null:document;function Cd(e,t,n){var i=Pa;if(i&&typeof t=="string"&&t){var u=Ct(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Rd.has(u)||(Rd.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),tt(t,"link",e),Je(t),i.head.appendChild(t)))}}function nv(e){gn.D(e),Cd("dns-prefetch",e,null)}function av(e,t){gn.C(e,t),Cd("preconnect",e,t)}function iv(e,t,n){gn.L(e,t,n);var i=Pa;if(i&&e&&t){var u='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Ct(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Ct(n.imageSizes)+'"]')):u+='[href="'+Ct(e)+'"]';var o=u;switch(t){case"style":o=Wa(e);break;case"script":o=Fa(e)}Mt.has(o)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(el(o))||t==="script"&&i.querySelector(tl(o))||(t=i.createElement("link"),tt(t,"link",e),Je(t),i.head.appendChild(t)))}}function lv(e,t){gn.m(e,t);var n=Pa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ct(i)+'"][href="'+Ct(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Fa(e)}if(!Mt.has(o)&&(e=w({rel:"modulepreload",href:e},t),Mt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tl(o)))return}i=n.createElement("link"),tt(i,"link",e),Je(i),n.head.appendChild(i)}}}function sv(e,t,n){gn.S(e,t,n);var i=Pa;if(i&&e){var u=ba(i).hoistableStyles,o=Wa(e);t=t||"default";var h=u.get(o);if(!h){var v={loading:0,preload:null};if(h=i.querySelector(el(o)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mt.get(o))&&co(e,n);var p=h=i.createElement("link");Je(p),tt(p,"link",e),p._p=new Promise(function(R,z){p.onload=R,p.onerror=z}),p.addEventListener("load",function(){v.loading|=1}),p.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Os(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:v},u.set(o,h)}}}function rv(e,t){gn.X(e,t);var n=Pa;if(n&&e){var i=ba(n).hoistableScripts,u=Fa(e),o=i.get(u);o||(o=n.querySelector(tl(u)),o||(e=w({src:e,async:!0},t),(t=Mt.get(u))&&fo(e,t),o=n.createElement("script"),Je(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function uv(e,t){gn.M(e,t);var n=Pa;if(n&&e){var i=ba(n).hoistableScripts,u=Fa(e),o=i.get(u);o||(o=n.querySelector(tl(u)),o||(e=w({src:e,async:!0,type:"module"},t),(t=Mt.get(u))&&fo(e,t),o=n.createElement("script"),Je(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Nd(e,t,n,i){var u=(u=oe.current)?As(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wa(n.href),n=ba(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wa(n.href);var o=ba(u).hoistableStyles,h=o.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=u.querySelector(el(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Mt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mt.set(e,n),o||ov(u,e,n,h.state))),t&&i===null)throw Error(r(528,""));return h}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fa(n),n=ba(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wa(e){return'href="'+Ct(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function jd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ov(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),tt(t,"link",n),Je(t),e.head.appendChild(t))}function Fa(e){return'[src="'+Ct(e)+'"]'}function tl(e){return"script[async]"+e}function Ud(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ct(n.href)+'"]');if(i)return t.instance=i,Je(i),i;var u=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Je(i),tt(i,"style",u),Os(i,n.precedence,e),t.instance=i;case"stylesheet":u=Wa(n.href);var o=e.querySelector(el(u));if(o)return t.state.loading|=4,t.instance=o,Je(o),o;i=jd(n),(u=Mt.get(u))&&co(i,u),o=(e.ownerDocument||e).createElement("link"),Je(o);var h=o;return h._p=new Promise(function(v,p){h.onload=v,h.onerror=p}),tt(o,"link",i),t.state.loading|=4,Os(o,n.precedence,e),t.instance=o;case"script":return o=Fa(n.src),(u=e.querySelector(tl(o)))?(t.instance=u,Je(u),u):(i=n,(u=Mt.get(o))&&(i=w({},n),fo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Je(u),tt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Os(i,n.precedence,e));return t.instance}function Os(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,h=0;h<i.length;h++){var v=i[h];if(v.dataset.precedence===t)o=v;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rs=null;function Dd(e,t,n){if(Rs===null){var i=new Map,u=Rs=new Map;u.set(n,i)}else u=Rs,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[vi]||o[Pe]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var v=i.get(h);v?v.push(o):i.set(h,[o])}}return i}function xd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function cv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fv(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Wa(i.href),o=t.querySelector(el(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Je(o);return}o=t.ownerDocument||t,i=jd(i),(u=Mt.get(u))&&co(i,u),o=o.createElement("link"),Je(o);var h=o;h._p=new Promise(function(v,p){h.onload=v,h.onerror=p}),tt(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Cs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ho=0;function hv(e,t){return e.stylesheets&&e.count===0&&js(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&js(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&ho===0&&(ho=62500*Xm());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&js(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>ho?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Cs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)js(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function js(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,t.forEach(dv,e),Ns=null,Cs.call(e))}function dv(e,t){if(!(t.state.loading&4)){var n=Ns.get(e);if(n)var i=n.get(null);else{n=new Map,Ns.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var h=u[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),i=h)}i&&n.set(null,i)}u=t.instance,h=u.getAttribute("data-precedence"),o=n.get(h)||i,o===i&&n.set(null,u),n.set(h,u),this.count++,i=Cs.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var nl={$$typeof:H,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function gv(e,t,n,i,u,o,h,v,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function kd(e,t,n,i,u,o,h,v,p,R,z,L){return e=new gv(e,t,n,h,p,R,z,L,v),t=1,o===!0&&(t|=24),o=_t(3,null,null,t),e.current=o,o.stateNode=e,t=Kr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Zr(o),e}function Md(e){return e?(e=ja,e):ja}function Ld(e,t,n,i,u,o){u=Md(u),i.context===null?i.context=u:i.pendingContext=u,i=On(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Rn(e,i,t),n!==null&&(dt(n,e,t),zi(n,e,t))}function Bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function go(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function qd(e){if(e.tag===13||e.tag===31){var t=Wn(e,67108864);t!==null&&dt(t,e,67108864),go(e,67108864)}}function Hd(e){if(e.tag===13||e.tag===31){var t=Tt();t=ur(t);var n=Wn(e,t);n!==null&&dt(n,e,t),go(e,t)}}var Us=!0;function yv(e,t,n,i){var u=j.T;j.T=null;var o=G.p;try{G.p=2,yo(e,t,n,i)}finally{G.p=o,j.T=u}}function mv(e,t,n,i){var u=j.T;j.T=null;var o=G.p;try{G.p=8,yo(e,t,n,i)}finally{G.p=o,j.T=u}}function yo(e,t,n,i){if(Us){var u=mo(i);if(u===null)eo(e,t,i,Ds,n),$d(e,i);else if(pv(u,e,t,n,i))i.stopPropagation();else if($d(e,i),t&4&&-1<vv.indexOf(e)){for(;u!==null;){var o=_a(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Qn(o.pendingLanes);if(h!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var p=1<<31-vt(h);v.entanglements[1]|=p,h&=~p}Zt(o),(_e&6)===0&&(gs=yt()+500,Ii(0))}}break;case 31:case 13:v=Wn(o,2),v!==null&&dt(v,o,2),ms(),go(o,2)}if(o=mo(i),o===null&&eo(e,t,i,Ds,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else eo(e,t,i,null,n)}}function mo(e){return e=vr(e),vo(e)}var Ds=null;function vo(e){if(Ds=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ds=e,null}function Gd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ny()){case Jo:return 2;case Zo:return 8;case Sl:case ay:return 32;case Io:return 268435456;default:return 32}default:return 32}}var po=!1,Bn=null,qn=null,Hn=null,al=new Map,il=new Map,Gn=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $d(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function ll(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&qd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function pv(e,t,n,i,u){switch(t){case"focusin":return Bn=ll(Bn,e,t,n,i,u),!0;case"dragenter":return qn=ll(qn,e,t,n,i,u),!0;case"mouseover":return Hn=ll(Hn,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return al.set(o,ll(al.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,il.set(o,ll(il.get(o)||null,e,t,n,i,u)),!0}return!1}function Vd(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,nc(e.priority,function(){Hd(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,nc(e.priority,function(){Hd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mo(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);mr=i,n.target.dispatchEvent(i),mr=null}else return t=_a(n),t!==null&&qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Yd(e,t,n){xs(e)&&n.delete(t)}function _v(){po=!1,Bn!==null&&xs(Bn)&&(Bn=null),qn!==null&&xs(qn)&&(qn=null),Hn!==null&&xs(Hn)&&(Hn=null),al.forEach(Yd),il.forEach(Yd)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_v)))}var ks=null;function Kd(e){ks!==e&&(ks=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ks===e&&(ks=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(vo(i||n)===null)continue;break}var o=_a(n);o!==null&&(e.splice(t,3),t-=3,yu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function ei(e){function t(p){return zs(p,e)}Bn!==null&&zs(Bn,e),qn!==null&&zs(qn,e),Hn!==null&&zs(Hn,e),al.forEach(t),il.forEach(t);for(var n=0;n<Gn.length;n++){var i=Gn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)Vd(n),n.blockedOn===null&&Gn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],h=u[rt]||null;if(typeof o=="function")h||Kd(n);else if(h){var v=null;if(o&&o.hasAttribute("formAction")){if(u=o,h=o[rt]||null)v=h.formAction;else if(vo(u)!==null)continue}else v=h.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),Kd(n)}}}function Xd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function _o(e){this._internalRoot=e}Ms.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Tt();Ld(n,i,e,t,null,null)},Ms.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ld(e.current,2,null,e,null,null),ms(),t[va]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=tc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&Vd(e)}};var Qd=a.version;if(Qd!=="19.2.4")throw Error(r(527,Qd,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var bv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{gi=Ls.inject(bv),mt=Ls}catch{}}return rl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=eh,o=th,h=nh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=kd(e,1,!1,null,null,n,i,null,u,o,h,Xd),e[va]=t.current,Fu(e),new _o(t)},rl.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=eh,h=th,v=nh,p=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=kd(e,1,!0,t,n??null,i,u,p,o,h,v,Xd),t.context=Md(null),n=t.current,i=Tt(),i=ur(i),u=On(i),u.callback=null,Rn(n,u,i),n=i,t.current.lanes=n,mi(t,n),Zt(t),e[va]=t.current,Fu(e),new Ms(t)},rl.version="19.2.4",rl}var ag;function jv(){if(ag)return wo.exports;ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),wo.exports=Nv(),wo.exports}var Uv=jv();function Ps(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function Dv(s,a,l,r){function c(f){return f instanceof l?f:new l(function(d){d(f)})}return new(l||(l=Promise))(function(f,d){function g(_){try{y(r.next(_))}catch(w){d(w)}}function m(_){try{y(r.throw(_))}catch(w){d(w)}}function y(_){_.done?f(_.value):c(_.value).then(g,m)}y((r=r.apply(s,a||[])).next())})}const xv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Yo extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class zv extends Yo{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class ig extends Yo{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class lg extends Yo{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var xo;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(xo||(xo={}));class kv{constructor(a,{headers:l={},customFetch:r,region:c=xo.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=xv(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Dv(this,arguments,void 0,function*(l,r={}){var c;let f,d;try{const{headers:g,method:m,body:y,signal:_,timeout:w}=r;let T={},{region:A}=r;A||(A=this.region);const x=new URL(`${this.url}/${l}`);A&&A!=="any"&&(T["x-region"]=A,x.searchParams.set("forceFunctionRegion",A));let D;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",D=y):typeof y=="string"?(T["Content-Type"]="text/plain",D=y):typeof FormData<"u"&&y instanceof FormData?D=y:(T["Content-Type"]="application/json",D=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?D=JSON.stringify(y):D=y;let k=_;w&&(d=new AbortController,f=setTimeout(()=>d.abort(),w),_?(k=d.signal,_.addEventListener("abort",()=>d.abort())):k=d.signal);const q=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),g),body:D,signal:k}).catch(se=>{throw new zv(se)}),$=q.headers.get("x-relay-error");if($&&$==="true")throw new ig(q);if(!q.ok)throw new lg(q);let H=((c=q.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),K;return H==="application/json"?K=yield q.json():H==="application/octet-stream"||H==="application/pdf"?K=yield q.blob():H==="text/event-stream"?K=q:H==="multipart/form-data"?K=yield q.formData():K=yield q.text(),{data:K,error:null,response:q}}catch(g){return{data:null,error:g,response:g instanceof lg||g instanceof ig?g.context:void 0}}finally{f&&clearTimeout(f)}})}}var Mv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Lv=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let d=null,g=null,m=null,y=f.status,_=f.statusText;if(f.ok){var w,T;if(l.method!=="HEAD"){var A;const q=await f.text();q===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((A=l.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?g=q:g=JSON.parse(q))}const D=(w=l.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(T=f.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");D&&k&&k.length>1&&(m=parseInt(k[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var x;const D=await f.text();try{d=JSON.parse(D),Array.isArray(d)&&f.status===404&&(g=[],d=null,y=200,_="OK")}catch{f.status===404&&D===""?(y=204,_="No Content"):d={message:D}}if(d&&l.isMaybeSingle&&(!(d==null||(x=d.details)===null||x===void 0)&&x.includes("0 rows"))&&(d=null,y=200,_="OK"),d&&l.shouldThrowOnError)throw new Mv(d)}return{error:d,data:g,count:m,status:y,statusText:_}});return this.shouldThrowOnError||(c=c.catch(f=>{var d;let g="",m="",y="";const _=f?.cause;if(_){var w,T,A,x;const q=(w=_?.message)!==null&&w!==void 0?w:"",$=(T=_?.code)!==null&&T!==void 0?T:"";g=`${(A=f?.name)!==null&&A!==void 0?A:"FetchError"}: ${f?.message}`,g+=`

Caused by: ${(x=_?.name)!==null&&x!==void 0?x:"Error"}: ${q}`,$&&(g+=` (${$})`),_?.stack&&(g+=`
${_.stack}`)}else{var D;g=(D=f?.stack)!==null&&D!==void 0?D:""}const k=this.url.toString().length;return f?.name==="AbortError"||f?.code==="ABORT_ERR"?(y="",m="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(_?.name==="HeadersOverflowError"||_?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",m="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(m+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=f?.name)!==null&&d!==void 0?d:"FetchError"}: ${f?.message}`,details:g,hint:m,code:y},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},Bv=class extends Lv{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const f=c?`${c}.order`:"order",d=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:f="text"}={}){var d;const g=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${m}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const sg=new RegExp("[,()]");var ri=class extends Bv{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},qv=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let f=!1;const d=(s??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",d),r&&m.append("Prefer",`count=${r}`),new ri({method:c,url:g,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:f,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),l||d.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);f.searchParams.set("columns",m.join(","))}}return new ri({method:c,url:f,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var f;const d="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),r&&m.append("Prefer",`count=${r}`),c||m.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(y.length>0){const _=[...new Set(y)].map(w=>`"${w}"`);g.searchParams.set("columns",_.join(","))}}return new ri({method:d,url:g,headers:m,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:f}=this.cloneRequestState();return a&&f.append("Prefer",`count=${a}`),new ri({method:r,url:c,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new ri({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function hl(s){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hl(s)}function Hv(s,a){if(hl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Gv(s){var a=Hv(s,"string");return hl(a)=="symbol"?a:a+""}function $v(s,a,l){return(a=Gv(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function rg(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Bs(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?rg(Object(l),!0).forEach(function(r){$v(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):rg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Vv=class kg{constructor(a,{headers:l={},schema:r,fetch:c,timeout:f,urlLengthLimit:d=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=d;const g=c??globalThis.fetch;f!==void 0&&f>0?this.fetch=(m,y)=>{const _=new AbortController,w=setTimeout(()=>_.abort(),f),T=y?.signal;if(T){if(T.aborted)return clearTimeout(w),g(m,y);const A=()=>{clearTimeout(w),_.abort()};return T.addEventListener("abort",A,{once:!0}),g(m,Bs(Bs({},y),{},{signal:_.signal})).finally(()=>{clearTimeout(w),T.removeEventListener("abort",A)})}return g(m,Bs(Bs({},y),{},{signal:_.signal})).finally(()=>clearTimeout(w))}:this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new kg(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:f}={}){var d;let g;const m=new URL(`${this.url}/rpc/${a}`);let y;const _=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(_)),w=r&&Object.values(l).some(_);w?(g="POST",y=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([A,x])=>x!==void 0).map(([A,x])=>[A,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([A,x])=>{m.searchParams.append(A,x)})):(g="POST",y=l);const T=new Headers(this.headers);return w?T.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&T.set("Prefer",`count=${f}`),new ri({method:g,url:m,headers:T,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class Yv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Kv="2.97.0",Xv=`realtime-js/${Kv}`,Qv="1.0.0",Mg="2.0.0",ug=Mg,zo=1e4,Jv=1e3,Zv=100;var Vn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Vn||(Vn={}));var Qe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Qe||(Qe={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var ko;(function(s){s.websocket="websocket"})(ko||(ko={}));var ga;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ga||(ga={}));class Iv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,l,r){var c,f;const d=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",m=(f=a.join_ref)!==null&&f!==void 0?f:"",y=a.payload.event,_=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(_).length===0?"":JSON.stringify(_);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+d.length+y.length+w.length,A=new ArrayBuffer(this.HEADER_LENGTH+T);let x=new DataView(A),D=0;x.setUint8(D++,this.KINDS.userBroadcastPush),x.setUint8(D++,m.length),x.setUint8(D++,g.length),x.setUint8(D++,d.length),x.setUint8(D++,y.length),x.setUint8(D++,w.length),x.setUint8(D++,l),Array.from(m,q=>x.setUint8(D++,q.charCodeAt(0))),Array.from(g,q=>x.setUint8(D++,q.charCodeAt(0))),Array.from(d,q=>x.setUint8(D++,q.charCodeAt(0))),Array.from(y,q=>x.setUint8(D++,q.charCodeAt(0))),Array.from(w,q=>x.setUint8(D++,q.charCodeAt(0)));var k=new Uint8Array(A.byteLength+r.byteLength);return k.set(new Uint8Array(A),0),k.set(new Uint8Array(r),A.byteLength),k.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,f,d,g,m]=r;return l({join_ref:c,ref:f,topic:d,event:g,payload:m})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,c)}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),f=l.getUint8(2),d=l.getUint8(3),g=l.getUint8(4);let m=this.HEADER_LENGTH+4;const y=r.decode(a.slice(m,m+c));m=m+c;const _=r.decode(a.slice(m,m+f));m=m+f;const w=r.decode(a.slice(m,m+d));m=m+d;const T=a.slice(m,a.byteLength),A=g===this.JSON_ENCODING?JSON.parse(r.decode(T)):T,x={type:this.BROADCAST_EVENT,event:_,payload:A};return d>0&&(x.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class Lg{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const og=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((f,d)=>(f[d]=Pv(d,s,a,c),f),{}):{}},Pv=(s,a,l,r)=>{const c=a.find(g=>g.name===s),f=c?.type,d=l[s];return f&&!r.includes(f)?Bg(f,d):Mo(d)},Bg=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return tp(a,l)}switch(s){case Ce.bool:return Wv(a);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Fv(a);case Ce.json:case Ce.jsonb:return ep(a);case Ce.timestamp:return np(a);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Mo(a);default:return Mo(a)}},Mo=s=>s,Wv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Fv=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},ep=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},tp=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let f;const d=s.slice(1,l);try{f=JSON.parse("["+d+"]")}catch{f=d?d.split(","):[]}return f.map(g=>Bg(a,g))}return s},np=s=>typeof s=="string"?s.replace(" ","T"):s,qg=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Oo{constructor(a,l,r={},c=zo){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var cg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(cg||(cg={}));class cl{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cl.syncState(this.state,c,f,d),this.pendingDiffs.forEach(m=>{this.state=cl.syncDiff(this.state,m,f,d)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=cl.syncDiff(this.state,c,f,d),g())}),this.onJoin((c,f,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:d})}),this.onLeave((c,f,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const f=this.cloneDeep(a),d=this.transformState(l),g={},m={};return this.map(f,(y,_)=>{d[y]||(m[y]=_)}),this.map(d,(y,_)=>{const w=f[y];if(w){const T=_.map(k=>k.presence_ref),A=w.map(k=>k.presence_ref),x=_.filter(k=>A.indexOf(k.presence_ref)<0),D=w.filter(k=>T.indexOf(k.presence_ref)<0);x.length>0&&(g[y]=x),D.length>0&&(m[y]=D)}else g[y]=_}),this.syncDiff(f,{joins:g,leaves:m},r,c)}static syncDiff(a,l,r,c){const{joins:f,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(g,m)=>{var y;const _=(y=a[g])!==null&&y!==void 0?y:[];if(a[g]=this.cloneDeep(m),_.length>0){const w=a[g].map(A=>A.presence_ref),T=_.filter(A=>w.indexOf(A.presence_ref)<0);a[g].unshift(...T)}r(g,_,m)}),this.map(d,(g,m)=>{let y=a[g];if(!y)return;const _=m.map(w=>w.presence_ref);y=y.filter(w=>_.indexOf(w.presence_ref)<0),a[g]=y,c(g,y,m),y.length===0&&delete a[g]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(fg||(fg={}));var fl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(fl||(fl={}));var yn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class ci{constructor(a,l={config:{}},r){var c,f;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Oo(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new cl(this),this.broadcastEndpointURL=qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[fl.PRESENCE]&&this.bindings[fl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,w={},T={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:_}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(A=>a?.(yn.CHANNEL_ERROR,A)),this._onClose(()=>a?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:A})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a?.(yn.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,k=(x=D?.length)!==null&&x!==void 0?x:0,q=[];for(let $=0;$<k;$++){const H=D[$],{filter:{event:K,schema:se,table:ne,filter:Q}}=H,me=A&&A[$];if(me&&me.event===K&&ci.isFilterValueEqual(me.schema,se)&&ci.isFilterValueEqual(me.table,ne)&&ci.isFilterValueEqual(me.filter,Q))q.push(Object.assign(Object.assign({},H),{id:me.id}));else{this.unsubscribe(),this.state=Qe.errored,a?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,a&&a(yn.SUBSCRIBED);return}}).receive("error",A=>{this.state=Qe.errored,a?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===Qe.joined&&a===fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const y=await g.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:d}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var d,g,m;const y=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&f("ok"),y.receive("ok",()=>f("ok")),y.receive("error",()=>f("error")),y.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Qe.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Oo(this,Yt.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(f),d}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Oo(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Zv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,f;const d=a.toLocaleLowerCase(),{close:g,error:m,leave:y,join:_}=Yt;if(r&&[g,m,y,_].indexOf(d)>=0&&r!==this._joinRef())return;let T=this._onMessage(d,l,r);if(l&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var x,D,k;return((x=A.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(D=A.filter)===null||D===void 0?void 0:D.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(A=>A.callback(T,r)):(f=this.bindings[d])===null||f===void 0||f.filter(A=>{var x,D,k,q,$,H;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in A){const K=A.id,se=(x=A.filter)===null||x===void 0?void 0:x.event;return K&&((D=l.ids)===null||D===void 0?void 0:D.includes(K))&&(se==="*"||se?.toLocaleLowerCase()===((k=l.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const K=($=(q=A?.filter)===null||q===void 0?void 0:q.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return K==="*"||K===((H=l?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===d}).map(A=>{if(typeof T=="object"&&"ids"in T){const x=T.data,{schema:D,table:k,commit_timestamp:q,type:$,errors:H}=x;T=Object.assign(Object.assign({},{schema:D,table:k,commit_timestamp:q,eventType:$,new:{},old:{},errors:H}),this._getPayloadRecords(x))}A.callback(T,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),f={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&ci.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Yt.close,{},a)}_onError(a){this._on(Yt.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=og(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=og(a.columns,a.old_record)),l}}const Ro=()=>{},qs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ap=[1e3,2e3,5e3,1e4],ip=1e4,lp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sp{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=qs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ro,this.ref=0,this.reconnectTimer=null,this.vsn=ug,this.logger=Ro,this.conn=null,this.sendBuffer=[],this.serializer=new Iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${ko.websocket}`,this.httpEndpoint=qg(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return ga.Connecting;case Vn.open:return ga.Open;case Vn.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new ci(`realtime:${a}`,l,this);return this.channels.push(f),f}}push(a){const{topic:l,event:r,payload:c,ref:f}=a,d=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${l} ${r} (${f})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Jv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},qs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:f,ref:d}=l,g=d?`(${d})`:"",m=f.status||"";this.log("receive",`${m} ${r} ${c} ${g}`.trim(),f),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,f,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Vn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vn.open||this.conn.readyState===Vn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Yt.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([lp],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const f={access_token:l,version:Xv};l&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Yt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,f,d,g,m,y,_,w,T,A;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:zo,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:qs.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Ro,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:ug,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(x=>ap[x-1]||ip),this.vsn){case Qv:this.encode=(_=a?.encode)!==null&&_!==void 0?_:((x,D)=>D(JSON.stringify(x))),this.decode=(w=a?.decode)!==null&&w!==void 0?w:((x,D)=>D(JSON.parse(x)));break;case Mg:this.encode=(T=a?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(A=a?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var dl=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rp(s,a,l){const r=new URL(a,s);if(l)for(const[c,f]of Object.entries(l))f!==void 0&&r.searchParams.set(c,f);return r.toString()}async function up(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function op(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:f,headers:d}){const g=rp(s.baseUrl,r,c),m=await up(s.auth),y=await a(g,{method:l,headers:{...f?{"Content-Type":"application/json"}:{},...m,...d},body:f?JSON.stringify(f):void 0}),_=await y.text(),w=(y.headers.get("content-type")||"").includes("application/json"),T=w&&_?JSON.parse(_):_;if(!y.ok){const A=w?T:void 0,x=A?.error;throw new dl(x?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:x?.type,icebergCode:x?.code,details:A})}return{status:y.status,headers:y.headers,data:T}}}}function Hs(s){return s.join("")}var cp=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Hs(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(s.namespace)}`}),!0}catch(a){if(a instanceof dl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof dl&&l.status===409)return;throw l}}};function ti(s){return s.join("")}var fp=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ti(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof dl&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof dl&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},hp=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=op({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new cp(this.client,a),this.tableOps=new fp(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Ws=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function Fs(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Gs=class extends Ws{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hg=class extends Ws{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const dp=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),gp=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Lo=s=>{if(Array.isArray(s))return s.map(l=>Lo(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=Lo(r)}),a},yp=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function gl(s){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gl(s)}function mp(s,a){if(gl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function vp(s){var a=mp(s,"string");return gl(a)=="symbol"?a:a+""}function pp(s,a,l){return(a=vp(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function hg(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function F(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?hg(Object(l),!0).forEach(function(r){pp(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):hg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const dg=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},_p=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const c=s,f=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const g=d?.statusCode||d?.code||f+"";a(new Gs(dg(d),f,g,r))}).catch(()=>{if(r==="vectors"){const d=f+"";a(new Gs(c.statusText||`HTTP ${f} error`,f,d,r))}else{const d=f+"";a(new Gs(c.statusText||`HTTP ${f} error`,f,d,r))}});else{const d=f+"";a(new Gs(c.statusText||`HTTP ${f} error`,f,d,r))}}else a(new Hg(dg(s),s,r))},bp=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||s==="HEAD"||!r?F(F({},c),l):(gp(r)?(c.headers=F({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),F(F({},c),l))};async function ul(s,a,l,r,c,f,d){return new Promise((g,m)=>{s(l,bp(a,r,c,f)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;if(d==="vectors"){const _=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!_||!_.includes("application/json"))return{}}return y.json()}).then(y=>g(y)).catch(y=>_p(y,m,r,d))})}function Gg(s="storage"){return{get:async(a,l,r,c)=>ul(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,f)=>ul(a,"POST",l,c,f,r,s),put:async(a,l,r,c,f)=>ul(a,"PUT",l,c,f,r,s),head:async(a,l,r,c)=>ul(a,"HEAD",l,F(F({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,f)=>ul(a,"DELETE",l,c,f,r,s)}}const Sp=Gg("storage"),{get:yl,post:Vt,put:Bo,head:wp,remove:Ko}=Sp,Ot=Gg("vectors");var hi=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=dp(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=F(F({},this.headers),{},{[s]:a}),this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Fs(l))return{data:null,error:l};throw l}}},Ep=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Fs(a))return{data:null,error:a};throw a}}};let $g;$g=Symbol.toStringTag;var Tp=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[$g]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ep(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Fs(a))return{data:null,error:a};throw a}}};const Ap={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Op=class extends hi{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let f;const d=F(F({},gg),r);let g=F(F({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),m&&f.append("metadata",c.encodeMetadata(m)),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.has("cacheControl")||f.append("cacheControl",d.cacheControl),m&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(m))):(f=l,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(g=F(F({},g),r.headers));const y=c._removeEmptyFolders(a),_=c._getFinalPath(y),w=await(s=="PUT"?Bo:Vt)(c.fetch,`${c.url}/object/${_}`,f,F({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{path:y,id:w.Id,fullPath:w.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const f=c._removeEmptyFolders(s),d=c._getFinalPath(f),g=new URL(c.url+`/object/upload/sign/${d}`);return g.searchParams.set("token",a),c.handleOperation(async()=>{let m;const y=F({upsert:gg.upsert},r),_=F(F({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",y.cacheControl)):(m=l,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{path:f,fullPath:(await Bo(c.fetch,g.toString(),m,{headers:_})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=F({},l.headers);a?.upsert&&(c["x-upsert"]="true");const f=await Vt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(l.url+f.url),g=d.searchParams.get("token");if(!g)throw new Ws("No token returned by API");return{signedUrl:d.toString(),path:s,token:g}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await Vt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await Vt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),f=await Vt(r.fetch,`${r.url}/object/sign/${c}`,F({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${d}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await Vt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(d=>F(F({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${f}`):null}))})}download(s,a,l){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),f=c?`?${c}`:"",d=this._getFinalPath(s),g=()=>yl(this.fetch,`${this.url}/${r}/${d}${f}`,{headers:this.headers,noResolveJson:!0},l);return new Tp(g,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Lo(await yl(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await wp(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Fs(r)&&r instanceof Hg){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const f=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&r.push(d);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${g}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Ko(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=F(F(F({},Ap),a),{},{prefix:s||""});return await Vt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=F({},s);return await Vt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Rp="2.97.0",_l={"X-Client-Info":`storage-js/${Rp}`};var Cp=class extends hi{constructor(s,a={},l,r){const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),d=F(F({},_l),a);super(f,d,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await yl(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await yl(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await Vt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await Bo(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Vt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Ko(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Np=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},_l),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Vt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await yl(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Ko(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!yp(s))throw new Ws("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new hp({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,f){const d=c[f];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}},jp=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},_l),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},Up=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},_l),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},Dp=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},_l),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},xp=class extends Dp{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new zp(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},zp=class extends jp{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new kp(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},kp=class extends Up{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Mp=class extends Cp{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new Op(this.url,this.headers,s,this.fetch)}get vectors(){return new xp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Np(this.url+"/iceberg",this.headers,this.fetch)}};const Vg="2.97.0",ui=30*1e3,qo=3,Co=qo*ui,Lp="http://localhost:9999",Bp="supabase.auth.token",qp={"X-Client-Info":`gotrue-js/${Vg}`},Ho="X-Supabase-Api-Version",Yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gp=600*1e3;class ml extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function I(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class $p extends ml{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Vp(s){return I(s)&&s.name==="AuthApiError"}class ya extends ml{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class mn extends ml{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class At extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function No(s){return I(s)&&s.name==="AuthSessionMissingError"}class ni extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends mn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends mn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yp(s){return I(s)&&s.name==="AuthImplicitGrantRedirectError"}class yg extends mn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kp extends mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Go extends mn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function jo(s){return I(s)&&s.name==="AuthRetryableFetchError"}class mg extends mn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class $o extends mn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=` 	
\r=`.split(""),Xp=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<vg.length;a+=1)s[vg[a].charCodeAt(0)]=-2;for(let a=0;a<Js.length;a+=1)s[Js[a].charCodeAt(0)]=a;return s})();function pg(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Js[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Js[r]),a.queuedBits-=6}}function Kg(s,a,l){const r=Xp[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function _g(s){const a=[],l=d=>{a.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=d=>{Zp(d,r,l)};for(let d=0;d<s.length;d+=1)Kg(s.charCodeAt(d),c,f);return a.join("")}function Qp(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Jp(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Qp(r,a)}}function Zp(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function fi(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)Kg(s.charCodeAt(c),l,r);return new Uint8Array(a)}function Ip(s){const a=[];return Jp(s,l=>a.push(l)),new Uint8Array(a)}function ma(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>pg(c,l,r)),pg(null,l,r),a.join("")}function Pp(s){return Math.round(Date.now()/1e3)+s}function Wp(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},Xg=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function Fp(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const Qg=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),e_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",oi=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},ha=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},nt=async(s,a)=>{await s.removeItem(a)};class er{constructor(){this.promise=new er.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}er.promiseConstructor=Promise;function Ys(s){const a=s.split(".");if(a.length!==3)throw new $o("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!Hp.test(a[r]))throw new $o("JWT not in base64url format");return{header:JSON.parse(_g(a[0])),payload:JSON.parse(_g(a[1])),signature:fi(a[2]),raw:{header:a[0],payload:a[1]}}}async function t_(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function n_(s,a){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const d=await s(f);if(!a(f,null,d)){r(d);return}}catch(d){if(!a(f,d)){c(d);return}}})()})}function a_(s){return("0"+s.toString(16)).substr(-2)}function i_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let f=0;f<56;f++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,a_).join("")}async function l_(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function s_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await l_(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ai(s,a,l=!1){const r=i_();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await oi(s,`${a}-code-verifier`,c);const f=await s_(r);return[f,r===f?"plain":"s256"]}const r_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u_(s){const a=s.headers.get(Ho);if(!a||!a.match(r_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function o_(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function c_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(s){if(!f_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uo(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h_(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function bg(s){return JSON.parse(JSON.stringify(s))}const da=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),d_=[502,503,504];async function Sg(s){var a;if(!e_(s))throw new Go(da(s),0);if(d_.includes(s.status))throw new Go(da(s),s.status);let l;try{l=await s.json()}catch(f){throw new ya(da(f),f)}let r;const c=u_(s);if(c&&c.getTime()>=Yg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new mg(da(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,d)=>f&&typeof d=="string",!0))throw new mg(da(l),s.status,l.weak_password.reasons);throw new $p(da(l),s.status||500,r)}const g_=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function te(s,a,l,r){var c;const f=Object.assign({},r?.headers);f[Ho]||(f[Ho]=Yg["2024-01-01"].name),r?.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await y_(s,a,l+g,{headers:f,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function y_(s,a,l,r,c,f){const d=g_(a,r,c,f);let g;try{g=await s(l,Object.assign({},d))}catch(m){throw console.error(m),new Go(da(m),0)}if(g.ok||await Sg(g),r?.noResolveJson)return g;try{return await g.json()}catch(m){await Sg(m)}}function $t(s){var a;let l=null;p_(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=Pp(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function wg(s){const a=$t(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Yn(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function m_(s){return{data:s,error:null}}function v_(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f}=s,d=Ps(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function Eg(s){return s}function p_(s){return s.access_token&&s.refresh_token&&s.expires_in}const Do=["global","local","others"];class __{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=Qg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=Do[0]){if(Do.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Yn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=Ps(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:v_,redirectTo:l?.redirectTo})}catch(l){if(I(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Yn})}catch(l){if(I(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,f,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},_=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Eg});if(_.error)throw _.error;const w=await _.json(),T=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,A=(m=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(x=>{const D=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);y[`${k}Page`]=D}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(I(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){ii(a);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Yn})}catch(l){if(I(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){ii(a);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Yn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){ii(a);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Yn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){ii(a.userId);try{const{data:l,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _deleteFactor(a){ii(a.userId),ii(a.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,f,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},_=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Eg});if(_.error)throw _.error;const w=await _.json(),T=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,A=(m=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(x=>{const D=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);y[`${k}Page`]=D}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(I(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(I(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(I(l))return{data:null,error:l};throw l}}}function Tg(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const li={debug:!!(globalThis&&Xg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Ag extends Jg{}async function b_(s,a,l){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;a>0&&setTimeout(()=>{r.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Ag(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(li.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}})}catch(c){throw c?.name==="AbortError"?new Ag(`Acquiring an exclusive Navigator LockManager lock "${s}" timed out waiting ${a}ms`):c}}function S_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zg(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function w_(s){return parseInt(s,16)}function E_(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function T_(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:f=new Date,nonce:d,notBefore:g,requestId:m,resources:y,scheme:_,uri:w,version:T}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const A=Zg(s.address),x=_?`${_}://${r}`:r,D=s.statement?`${s.statement}
`:"",k=`${x} wants you to sign in with your Ethereum account:
${A}

${D}`;let q=`URI: ${w}
Version: ${T}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${f.toISOString()}`;if(c&&(q+=`
Expiration Time: ${c.toISOString()}`),g&&(q+=`
Not Before: ${g.toISOString()}`),m&&(q+=`
Request ID: ${m}`),y){let $=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);$+=`
- ${H}`}q+=$}return`${k}
${q}`}class Ye extends Error{constructor({message:a,code:l,cause:r,name:c}){var f;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=c??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=l}}class Zs extends Ye{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function A_({error:s,options:a}){var l,r,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=f.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ye({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Ig(d)){if(f.rp.id!==d)return new Ye({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function O_({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ye({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Ig(r)){if(l.rpId!==r)return new Ye({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class R_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const C_=new R_;function N_(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=Ps(s,["challenge","user","excludeCredentials"]),f=fi(a).buffer,d=Object.assign(Object.assign({},l),{id:fi(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:f,user:d});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const y=r[m];g.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:fi(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function j_(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=Ps(s,["challenge","allowCredentials"]),c=fi(a).buffer,f=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){f.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const g=l[d];f.allowCredentials[d]=Object.assign(Object.assign({},g),{id:fi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function U_(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function D_(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ma(new Uint8Array(c.authenticatorData)),clientDataJSON:ma(new Uint8Array(c.clientDataJSON)),signature:ma(new Uint8Array(c.signature)),userHandle:c.userHandle?ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ig(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Og(){var s,a;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function x_(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zs("Browser returned unexpected credential type",a)}:{data:null,error:new Zs("Empty credential response",a)}}catch(a){return{data:null,error:A_({error:a,options:s})}}}async function z_(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zs("Browser returned unexpected credential type",a)}:{data:null,error:new Zs("Empty credential response",a)}}catch(a){return{data:null,error:O_({error:a,options:s})}}}const k_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Is(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const f in c){const d=c[f];if(d!==void 0)if(Array.isArray(d))r[f]=d;else if(l(d))r[f]=d;else if(a(d)){const g=r[f];a(g)?r[f]=Is(g,d):r[f]=Is(d)}else r[f]=d}return r}function L_(s,a){return Is(k_,s,a||{})}function B_(s,a){return Is(M_,s,a||{})}class q_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},f){var d;try{const{data:g,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!g)return{data:null,error:m};const y=c??C_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:_}=g.webauthn.credential_options.publicKey;if(!_.name){const w=r;if(w)_.name=`${_.id}:${w}`;else{const A=(await this.client.getUser()).data.user,x=((d=A?.user_metadata)===null||d===void 0?void 0:d.name)||A?.email||A?.id||"User";_.name=`${_.id}:${x}`}}_.displayName||(_.displayName=_.name)}switch(g.webauthn.type){case"create":{const _=L_(g.webauthn.credential_options.publicKey,f?.create),{data:w,error:T}=await x_({publicKey:_,signal:y});return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}case"request":{const _=B_(g.webauthn.credential_options.publicKey,f?.request),{data:w,error:T}=await z_(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:_,signal:y}));return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}}}catch(g){return I(g)?{data:null,error:g}:{data:null,error:new ya("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!Og())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:f});if(!d)return{data:null,error:g};const{webauthn:m}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:m.type,rpId:l,rpOrigins:r,credential_response:m.credential_response}})}catch(d){return I(d)?{data:null,error:d}:{data:null,error:new ya("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!Og())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(_=>{var w;return(w=_.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===a&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:g};const{data:m,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:f});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:l,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(d){return I(d)?{data:null,error:d}:{data:null,error:new ya("Unexpected error in register",d)}}}}S_();const H_={url:Lp,storageKey:Bp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Rg(s,a,l){return await l()}const si={};class vl{get jwks(){var a,l;return(l=(a=si[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=si[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},H_),a);if(this.storageKey=f.storageKey,this.instanceID=(l=vl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,vl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&at()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new __({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Qg(f.fetch),this.lock=f.lock||Rg,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&at()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=b_:this.lock=Rg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Xg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}f.skipAutoInitialize||this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(at()&&(l=Fp(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),at()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Yp(f)){const m=(a=f.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return I(l)?this._returnResult({error:l}):this._returnResult({error:new ya("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:$t}),{data:d,error:g}=f;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(f){if(I(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var l,r,c;try{let f;if("email"in a){const{email:_,password:w,options:T}=a;let A=null,x=null;this.flowType==="pkce"&&([A,x]=await ai(this.storage,this.storageKey)),f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:_,password:w,data:(l=T?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:x},xform:$t})}else if("phone"in a){const{phone:_,password:w,options:T}=a;f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(r=T?.data)!==null&&r!==void 0?r:{},channel:(c=T?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:$t})}else throw new $s("You must provide either an email or phone number and a password");const{data:d,error:g}=f;if(g||!d)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(f){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let l;if("email"in a){const{email:f,password:d,options:g}=a;l=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:wg})}else if("phone"in a){const{phone:f,password:d,options:g}=a;l=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:wg})}else throw new $s("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const f=new ni;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,f,d,g,m,y,_,w,T;let A,x;if("message"in a)A=a.message,x=a.signature;else{const{chain:D,wallet:k,statement:q,options:$}=a;let H;if(at())if(typeof k=="object")H=k;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")H=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=k}const K=new URL((l=$?.url)!==null&&l!==void 0?l:window.location.href),se=await H.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Zg(se[0]);let Q=(r=$?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const he=await H.request({method:"eth_chainId"});Q=w_(he)}const me={domain:K.host,address:ne,statement:q,uri:K.href,version:"1",chainId:Q,nonce:(c=$?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(f=$?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=$?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=$?.signInWithEthereum)===null||_===void 0?void 0:_.resources};A=T_(me),x=await H.request({method:"personal_sign",params:[E_(A),ne]})}try{const{data:D,error:k}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:x},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:$t});if(k)throw k;if(!D||!D.session||!D.user){const q=new ni;return this._returnResult({data:{user:null,session:null},error:q})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:k})}catch(D){if(I(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(a){var l,r,c,f,d,g,m,y,_,w,T,A;let x,D;if("message"in a)x=a.message,D=a.signature;else{const{chain:k,wallet:q,statement:$,options:H}=a;let K;if(at())if(typeof q=="object")K=q;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))K=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=q}const se=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const ne=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),$?{statement:$}:null));let Q;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")Q=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)Q=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)x=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),D=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${se.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(c=(r=H?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=H?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((w=(_=H?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||w===void 0)&&w.length?["Resources",...H.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ne=await K.signMessage(new TextEncoder().encode(x),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ne}}try{const{data:k,error:q}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ma(D)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:$t});if(q)throw q;if(!k||!k.session||!k.user){const $=new ni;return this._returnResult({data:{user:null,session:null},error:$})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:q})}catch(k){if(I(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(a){const l=await ha(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Kp;const{data:f,error:d}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:$t});if(await nt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!f||!f.session||!f.user){const g=new ni;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:d})}catch(f){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:f,nonce:d}=a,g=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:d,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$t}),{data:m,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const _=new ni;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,f,d;try{if("email"in a){const{email:g,options:m}=a;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await ai(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:g,options:m}=a,{data:y,error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(f=m?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new $s("You must provide either an email or phone number.")}catch(g){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var l,r;try{let c,f;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,f=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:g}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:$t});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,y=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,f,d;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ai(this.storage,this.storageKey));const y=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:m_});return!((f=y.data)===null||f===void 0)&&f.url&&at()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new At;const{error:c}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:f}=a,{error:d}=await te(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:r,type:c,options:f}=a,{data:d,error:g}=await te(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new $s("You must provide either an email or phone number and a type")}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const d=await ha(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Uo()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=h_(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Yn}):await this._useSession(async l=>{var r,c,f;const{data:d,error:g}=l;if(g)throw g;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Yn})})}catch(l){if(I(l))return No(l)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new At;const d=c.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await ai(this.storage,this.storageKey));const{data:y,error:_}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:Yn});if(_)throw _;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new At;const l=Date.now()/1e3;let r=l,c=!0,f=null;const{payload:d}=Ys(a.access_token);if(d.exp&&(r=d.exp,c=r<=l),c){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});f={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(l){if(I(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:d,error:g}=l;if(g)throw g;a=(r=d.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new At;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!at())throw new Vs("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Vs(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new yg("No code detected.");const{data:$,error:H}=await this._exchangeCodeForSession(a.code);if(H)throw H;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:d,expires_in:g,expires_at:m,token_type:y}=a;if(!f||!g||!d||!y)throw new Vs("No session defined in URL");const _=Math.round(Date.now()/1e3),w=parseInt(g);let T=_+w;m&&(T=parseInt(m));const A=T-_;A*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const x=T-w;_-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,T,_):_-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,T,_);const{data:D,error:k}=await this._getUser(f);if(k)throw k;const q={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:w,expires_at:T,refresh_token:d,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:a.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f&&!No(f))return this._returnResult({error:f});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:g}=await this.admin.signOut(d,a);if(g&&!(Vp(g)&&(g.status===404||g.status===401||g.status===403)||No(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=Wp(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:f},error:d}=l;if(d)throw d;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ai(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async f=>{var d,g,m,y,_;const{data:w,error:T}=f;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",A,{headers:this.headers,jwt:(_=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return at()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:f}}=l;if(c)throw c;const{options:d,provider:g,token:m,access_token:y,nonce:_}=a,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:m,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$t}),{data:T,error:A}=w;return A?this._returnResult({data:{user:null,session:null},error:A}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ni}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:A}))}catch(c){if(await nt(this.storage,`${this.storageKey}-code-verifier`),I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:d}=l;if(d)throw d;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await n_(async c=>(c>0&&await t_(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:$t})),(c,f)=>{const d=200*Math.pow(2,c);return f&&jo(f)&&Date.now()+d-r<ui})}catch(r){if(this._debug(l,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),at()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ha(this.storage,this.storageKey);if(c&&this.userStorage){let d=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await oi(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:Uo()}else if(c&&!c.user&&!c.user){const d=await ha(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await nt(this.storage,this.storageKey+"-user"),await oi(this.storage,this.storageKey,c)):c.user=Uo()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Co;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${Co}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),jo(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new er;const{data:f,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!f.session)throw new At;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(c,"error",f),I(f)){const d={data:null,error:f};return jo(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const f=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,l)}catch(m){f.push(m)}});if(await Promise.all(d),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await oi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const f=bg(c);await oi(this.storage,this.storageKey,f)}else{const c=bg(l);await oi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ui}ms, refresh threshold is ${qo} ticks`),c<=qo&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,d]=await ai(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(r?.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;return f?this._returnResult({data:null,error:f}):await te(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:d}=l;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:y}=await te(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=f?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?U_(a.webauthn.credential_response):D_(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const d=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:N_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:j_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=l?.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,f;if(a)try{const{payload:A}=Ys(a);let x=null;A.aal&&(x=A.aal);let D=x;const{data:{user:k},error:q}=await this.getUser(a);if(q)return this._returnResult({data:null,error:q});((r=(l=k?.factors)===null||l===void 0?void 0:l.filter(K=>K.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(D="aal2");const H=A.amr||[];return{data:{currentLevel:x,nextLevel:D,currentAuthenticationMethods:H},error:null}}catch(A){if(I(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:d},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Ys(d.access_token);let y=null;m.aal&&(y=m.aal);let _=y;((f=(c=d.user.factors)===null||c===void 0?void 0:c.filter(A=>A.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(_="aal2");const T=m.amr||[];return{data:{currentLevel:y,nextLevel:_,currentAuthenticationMethods:T},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new At})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new At});const d=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&at()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new At});const d=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&at()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(l){if(I(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(g=>g.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===a),r&&this.jwks_cached_at+Gp>c)return r;const{data:f,error:d}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(g=>g.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:A,error:x}=await this.getSession();if(x||!A.session)return this._returnResult({data:null,error:x});r=A.session.access_token}const{header:c,payload:f,signature:d,raw:{header:g,payload:m}}=Ys(r);l?.allowExpired||o_(f.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:f,header:c,signature:d},error:null}}const _=c_(c.alg),w=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,w,d,Ip(`${g}.${m}`)))throw new $o("Invalid JWT signature");return{data:{claims:f,header:c,signature:d},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}vl.nextInstanceID={};const G_=vl,$_="2.97.0";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const V_={"X-Client-Info":`supabase-js-${ol}/${$_}`},Y_={headers:V_},K_={schema:"public"},X_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q_={};function pl(s){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pl(s)}function J_(s,a){if(pl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Z_(s){var a=J_(s,"string");return pl(a)=="symbol"?a:a+""}function I_(s,a,l){return(a=Z_(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Cg(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function ke(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Cg(Object(l),!0).forEach(function(r){I_(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Cg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const P_=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),W_=()=>Headers,F_=(s,a,l)=>{const r=P_(l),c=W_();return async(f,d)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:s;let y=new c(d?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),r(f,ke(ke({},d),{},{headers:y}))}};function e0(s){return s.endsWith("/")?s:s+"/"}function t0(s,a){var l,r;const{db:c,auth:f,realtime:d,global:g}=s,{db:m,auth:y,realtime:_,global:w}=a,T={db:ke(ke({},m),c),auth:ke(ke({},y),f),realtime:ke(ke({},_),d),storage:{},global:ke(ke(ke({},w),g),{},{headers:ke(ke({},(l=w?.headers)!==null&&l!==void 0?l:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?T.accessToken=s.accessToken:delete T.accessToken,T}function n0(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var a0=class extends G_{constructor(s){super(s)}},i0=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const f=n0(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:K_,realtime:Q_,auth:ke(ke({},X_),{},{storageKey:d}),global:Y_},m=t0(l??{},g);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=F_(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Vv(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Mp(this.storageUrl.href,this.headers,this.fetch,l?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new kv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:f,flowType:d,lock:g,debug:m,throwOnError:y},_,w){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a0({url:this.authUrl.href,headers:ke(ke({},T),_),storageKey:f,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:d,lock:g,debug:m,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new sp(this.realtimeUrl.href,ke(ke({},s),{},{params:ke(ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const l0=(s,a,l)=>new i0(s,a,l);function s0(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}s0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pg="https://gpvtcnwpmnbgkitnyvig.supabase.co",r0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwdnRjbndwbW5iZ2tpdG55dmlnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MTU4MjE4OCwiZXhwIjoyMDg3MTU4MTg4fQ.kWDAA2Q5OHujT6oRXDBp7IcjGqUU1A95VkwvUbEFJeI",Kn=!!Pg.startsWith("http"),Kt=Kn?l0(Pg,r0):null,u0="profiles";async function o0(s){if(!Kn||!Kt||!s)return null;const{data:a,error:l}=await Kt.from(u0).select("id, tier, full_name, email").eq("id",s).maybeSingle();return l?null:a}async function c0(s){return!Kn||!Kt||!s?null:o0(s)}const Wg=ee.createContext(null);function f0({children:s}){const[a,l]=ee.useState(null),[r,c]=ee.useState(!0),[f,d]=ee.useState(null),g=f?.tier??null,m=f?.id??null,y=ee.useCallback(async T=>{if(!T){d(null);return}try{const A=await c0(T);d(A)}catch{d(null)}},[]);ee.useEffect(()=>{if(!Kn||!Kt){c(!1);return}let T=!1;async function A(){const D=new Promise(k=>{setTimeout(()=>k(null),8e3)});try{const k=await Promise.race([Kt.auth.getSession().then(({data:$})=>$?.session??null),D]);if(T)return;const q=k?.user??null;l(q),q&&y(q.id).catch(()=>{})}catch{T||l(null)}finally{T||c(!1)}}A();const{data:{subscription:x}}=Kt.auth.onAuthStateChange((D,k)=>{if(T)return;const q=k?.user??null;l(q),q?y(q.id).catch(()=>{}):d(null)});return()=>{T=!0,x?.unsubscribe()}},[y]);const _=ee.useCallback(async()=>{!Kn||!Kt||(await Kt.auth.signOut(),l(null),d(null))},[]),w={user:a,loading:r,logout:_,profile:f,tier:g,profileUserId:m};return N.jsx(Wg.Provider,{value:w,children:s})}function h0(){const s=ee.useContext(Wg);if(s===null)throw new Error("useAuth must be used within an AuthProvider");return s}const Ks=()=>{},Xs="[EZ-Note Popup]",Ng={popup:{debug:typeof console<"u"&&console.debug?(...s)=>console.debug(Xs,...s):Ks,info:typeof console<"u"&&console.info?(...s)=>console.info(Xs,...s):Ks,warn:typeof console<"u"&&console.warn?(...s)=>console.warn(Xs,...s):Ks,error:typeof console<"u"&&console.error?(...s)=>console.error(Xs,...s):Ks}};function vn(s){return new Promise((a,l)=>{if(typeof chrome>"u"||!chrome.runtime?.sendMessage){Ng.popup.warn("Chrome runtime not available"),l(new Error("Chrome runtime not available"));return}chrome.runtime.sendMessage(s,r=>{if(chrome.runtime.lastError){Ng.popup.warn("Message failed",chrome.runtime.lastError.message),l(new Error(chrome.runtime.lastError.message||"Message failed"));return}a(r)})})}async function jg(){return vn({type:"AUTH_GET_STATUS"})}async function d0(){return vn({type:"AUTH_CONNECT",webClientId:typeof import.meta<"u"&&"778111732002-2ldr368rfvhf44erd00di6dn06igsd5d.apps.googleusercontent.com"||""})}async function g0(){return vn({type:"AUTH_DISCONNECT"})}async function y0(){return vn({type:"DOCS_LIST"})}async function m0(s,a=""){return vn({type:"DOCS_SET_SELECTED",documentId:s,documentName:a})}async function v0(s="Untitled"){return vn({type:"DOCS_CREATE",name:s||"Untitled"})}async function p0(s){return vn({type:"GET_PLUG_SELECTION",tabId:s})}async function Ug(){return vn({type:"DOCS_GET_SECTIONS"})}async function _0(s,a){return vn({type:"PLUG_IT_IN_AT_SECTION",selectionData:s,insertIndex:a})}function b0({onSuccess:s,disabled:a=!1}){const[l,r]=ee.useState(!1),[c,f]=ee.useState(null),[d,g]=ee.useState(null),m=async()=>{f(null),g(null),r(!0);try{const y=await d0();y?.success?s?.():(f(y?.error||"Something went wrong"),y?.redirectUri&&g(y.redirectUri))}catch(y){const _=y instanceof Error?y.message:"Something went wrong";f(_)}finally{r(!1)}};return N.jsxs("div",{className:"connect-google-docs",children:[N.jsx("button",{type:"button",className:"connect-google-docs__btn",onClick:m,disabled:a||l,"aria-busy":l,children:l?"Connecting":"Connect Google Docs"}),c&&N.jsxs("div",{className:"connect-google-docs__error",role:"alert",children:[N.jsx("p",{children:c}),d&&N.jsxs("p",{className:"connect-google-docs__redirect-hint",children:["Add this ",N.jsx("strong",{children:"exact"})," URI in Google Cloud Console  your Web application client  Authorized redirect URIs:",N.jsx("br",{}),N.jsx("code",{className:"connect-google-docs__redirect-uri",children:d})]})]})]})}function S0({onSelectDocument:s,onError:a,disabled:l=!1}){const[r,c]=ee.useState([]),[f,d]=ee.useState(!0),[g,m]=ee.useState(null),[y,_]=ee.useState(!1),[w,T]=ee.useState("");ee.useEffect(()=>{let D=!1;return(async()=>{d(!0),m(null);try{const k=await y0();if(D)return;k?.success&&Array.isArray(k.docs)?c(k.docs):(m(k?.error||"Failed to load documents"),a?.())}catch(k){const q=k instanceof Error?k.message:"Failed to load documents";D||m(q),a?.(k)}finally{D||d(!1)}})(),()=>{D=!0}},[a]);const A=async D=>{try{const k=await m0(D.id,D.name);k?.success?s?.(D):m(k?.error||"Failed to save selection")}catch(k){const q=k instanceof Error?k.message:"Failed to save selection";m(q)}},x=async()=>{m(null),_(!0);const D=w.trim()||"Untitled";try{const k=await v0(D);k?.success&&k?.doc?(T(""),s?.({id:k.doc.id,name:k.doc.name})):m(k?.error||"Failed to create document")}catch(k){const q=k instanceof Error?k.message:"Failed to create document";m(q)}finally{_(!1)}};return f?N.jsx("div",{className:"docs-list docs-list--loading",children:"Loading your documents"}):g?N.jsx("div",{className:"docs-list docs-list--error",role:"alert",children:g}):r.length===0?N.jsxs("div",{className:"docs-list docs-list--empty",children:[N.jsx("p",{children:"No Google Docs found."}),N.jsxs("div",{className:"docs-list__new-form docs-list__new-form--empty",children:[N.jsx("label",{htmlFor:"docs-list-new-name",className:"docs-list__new-label",children:"New document title"}),N.jsxs("div",{className:"docs-list__new-row",children:[N.jsx("input",{id:"docs-list-new-name",type:"text",className:"docs-list__new-input",placeholder:"Untitled",value:w,onChange:D=>T(D.target.value),onKeyDown:D=>D.key==="Enter"&&x(),disabled:l||y,"aria-label":"New document title"}),N.jsx("button",{type:"button",className:"docs-list__create",onClick:x,disabled:l||y,"aria-busy":y,children:y?"Creating":"Create new document"})]})]})]}):N.jsxs("div",{className:"docs-list",children:[N.jsx("p",{className:"docs-list__label",children:"Select a document to connect:"}),N.jsxs("div",{className:"docs-list__new-form",children:[N.jsx("label",{htmlFor:"docs-list-new-name-inline",className:"docs-list__new-label",children:"New document title"}),N.jsxs("div",{className:"docs-list__new-row",children:[N.jsx("input",{id:"docs-list-new-name-inline",type:"text",className:"docs-list__new-input",placeholder:"Untitled",value:w,onChange:D=>T(D.target.value),onKeyDown:D=>D.key==="Enter"&&x(),disabled:l||y,"aria-label":"New document title"}),N.jsx("button",{type:"button",className:"docs-list__create",onClick:x,disabled:l||y,"aria-busy":y,children:y?"Creating":"Create"})]})]}),N.jsx("ul",{className:"docs-list__list",role:"listbox",children:r.map(D=>N.jsx("li",{className:"docs-list__item",children:N.jsx("button",{type:"button",className:"docs-list__item-btn",onClick:()=>A(D),role:"option",disabled:l,children:N.jsx("span",{className:"docs-list__item-name",children:D.name})})},D.id))})]})}function w0({documentName:s,onChangeDocument:a,disabled:l=!1}){const[r,c]=ee.useState(!1),f=ee.useRef(null),[d,g]=ee.useState(null),[m,y]=ee.useState(null),[_,w]=ee.useState([]),[T,A]=ee.useState(null),[x,D]=ee.useState(!1),[k,q]=ee.useState(null),[$,H]=ee.useState([]),[K,se]=ee.useState(null),[ne,Q]=ee.useState(!1);ee.useEffect(()=>{typeof chrome>"u"||!chrome.runtime?.sendMessage||chrome.runtime.sendMessage({type:"GET_SNIP_STATE"},j=>{!chrome.runtime.lastError&&j?.active&&c(!0)})},[]);const me="eznote_snip_insert_success";ee.useEffect(()=>{const j=chrome.storage?.session||chrome.storage?.local;if(!j?.onChanged)return;const G=V=>{V.eznote_snip_overlay_active!==void 0&&c(!!V.eznote_snip_overlay_active.newValue),V[me]!==void 0&&V[me].newValue===!0&&(Q(!0),j.remove(me),setTimeout(()=>Q(!1),2500))};return j.onChanged.addListener(G),()=>j.onChanged.removeListener(G)},[]),ee.useEffect(()=>{const j=chrome.storage?.session||chrome.storage?.local;j?.get&&j.get(me,G=>{G?.[me]===!0&&(Q(!0),j.remove(me),setTimeout(()=>Q(!1),2500))})},[]),ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const he=async()=>{if(typeof chrome>"u"||!chrome.tabs?.query)return;if(se(null),!(await chrome.tabs.query({active:!0,currentWindow:!0}))[0]?.id){se("No active tab");return}q("loading_sections");try{const V=await Ug();if(!V?.success||!Array.isArray(V.sections)||V.sections.length===0){se(V?.error||"Could not load document sections"),q(null);return}H(V.sections),q("sections")}catch(V){se(V instanceof Error?V.message:"Something went wrong"),q(null)}},Ie=j=>{typeof chrome>"u"||!chrome.tabs?.query||(se(null),chrome.tabs.query({active:!0,currentWindow:!0},G=>{const V=G[0];V?.id&&(c(!0),f.current&&clearTimeout(f.current),chrome.runtime.sendMessage({type:"SNIP_START_WITH_SECTION",insertIndex:j.index,tabId:V.id},ue=>{if(chrome.runtime.lastError){se(chrome.runtime.lastError.message||"Failed to start snip"),q("sections");return}if(ue?.error){se(ue.error),q("sections");return}q(null),H([])}))}))},qe=()=>{q(null),H([]),se(null)},De=async()=>{if(typeof chrome>"u"||!chrome.tabs?.query)return;A(null),D(!1);const G=(await chrome.tabs.query({active:!0,currentWindow:!0}))[0];if(!G?.id){A("No active tab");return}g("loading");try{const V=await p0(G.id);if(!V?.success||!V?.selection){A(V?.error||"Could not get selection"),g(null);return}if(!V.selection.selectedText?.trim()){A("No text selected. Select some text on the page first."),g(null);return}const ue=await Ug();if(!ue?.success||!Array.isArray(ue.sections)||ue.sections.length===0){A(ue?.error||"Could not load document sections"),g(null);return}y(V.selection),w(ue.sections),g("sections")}catch(V){A(V instanceof Error?V.message:"Something went wrong"),g(null)}},Lt=async j=>{if(m){g("inserting"),A(null);try{const G=await _0(m,j.index);G?.success?(D(!0),g(null),y(null),w([]),setTimeout(()=>D(!1),2500)):(A(G?.error||"Insert failed"),g("sections"))}catch(G){A(G instanceof Error?G.message:"Insert failed"),g("sections")}}},Bt=()=>{g(null),y(null),w([]),A(null)},gt="connected-doc__btn connected-doc__btn--snip"+(r?" connected-doc__btn--snip-active":"");return N.jsxs("div",{className:"connected-doc",children:[N.jsx("p",{className:"connected-doc__label",children:"Connected document"}),N.jsx("p",{className:"connected-doc__name",children:s||"Untitled"}),d===null&&N.jsx("button",{type:"button",className:"connected-doc__btn connected-doc__btn--plug",onClick:De,disabled:l,children:"Plug it in"}),d==="loading"&&N.jsx("p",{className:"connected-doc__plug-status",children:"Loading Select text on the page first."}),T&&d===null&&N.jsx("p",{className:"connected-doc__plug-error",role:"alert",children:T}),x&&N.jsx("p",{className:"connected-doc__plug-success",children:"Added to doc!"}),d==="sections"&&N.jsxs("div",{className:"connected-doc__sections",children:[N.jsx("p",{className:"connected-doc__sections-label",children:"Choose where to add the selected text:"}),N.jsx("ul",{className:"connected-doc__sections-list",children:_.map(j=>N.jsx("li",{children:N.jsx("button",{type:"button",className:"connected-doc__section-btn",onClick:()=>Lt(j),disabled:l,children:j.label})},j.index))}),T&&N.jsx("p",{className:"connected-doc__plug-error",role:"alert",children:T}),N.jsx("button",{type:"button",className:"connected-doc__section-cancel",onClick:Bt,children:"Cancel"})]}),d==="inserting"&&N.jsx("p",{className:"connected-doc__plug-status",children:"Adding"}),k===null&&N.jsx("button",{type:"button",className:gt,onClick:he,disabled:l,children:"Snip and Plug"}),k==="loading_sections"&&N.jsx("p",{className:"connected-doc__plug-status",children:"Loading sections"}),K&&k===null&&N.jsx("p",{className:"connected-doc__plug-error",role:"alert",children:K}),ne&&N.jsx("p",{className:"connected-doc__plug-success",children:"Screenshot added to doc!"}),k==="sections"&&N.jsxs("div",{className:"connected-doc__sections",children:[N.jsx("p",{className:"connected-doc__sections-label",children:"Choose where to add the screenshot:"}),N.jsx("ul",{className:"connected-doc__sections-list",children:$.map(j=>N.jsx("li",{children:N.jsx("button",{type:"button",className:"connected-doc__section-btn",onClick:()=>Ie(j),disabled:l,children:j.label})},j.index))}),K&&N.jsx("p",{className:"connected-doc__plug-error",role:"alert",children:K}),N.jsx("button",{type:"button",className:"connected-doc__section-cancel",onClick:qe,children:"Cancel"})]}),N.jsxs("button",{type:"button",className:"connected-doc__btn connected-doc__btn--magic",disabled:!0,title:"Clean and structure your notes with AIcoming in a future update",children:["Magic AI Format ",N.jsx("span",{className:"connected-doc__coming-soon",children:"(Coming soon)"})]}),N.jsx("p",{className:"connected-doc__hint connected-doc__hint--magic",children:"AI-powered cleanup and structure for your doc. Coming soon."}),N.jsx("p",{className:"connected-doc__hint connected-doc__hint--cursor",children:"Tip: Open your doc in a new tab (below) to add at cursor with Plug it in or Snip and Plug."}),N.jsx("button",{type:"button",className:"connected-doc__change",onClick:a,disabled:l,children:"Change document"})]})}function Dg({children:s,replaceImagesWithPlaceholder:a}){return!Array.isArray(s)||s.length===0?null:N.jsx(N.Fragment,{children:s.map((l,r)=>{if(l.type==="text"){let c=l.value;return c.trim()===""?N.jsx("span",{children:c},r):l.bold&&l.italic?N.jsx("strong",{children:N.jsx("em",{children:c})},r):l.bold?N.jsx("strong",{children:c},r):l.italic?N.jsx("em",{children:c},r):l.underline?N.jsx("span",{className:"doc-preview__underline",children:c},r):l.strikethrough?N.jsx("span",{className:"doc-preview__strikethrough",children:c},r):N.jsx("span",{children:c},r)}if(l.type==="image"){if(a)return N.jsx("span",{className:"doc-preview__img-placeholder",children:"<img>"},r);if(l.url)return N.jsx("img",{src:l.url,alt:"",className:"doc-preview__img",referrerPolicy:"no-referrer",loading:"lazy"},r)}return null})})}function E0({blocks:s,replaceImagesWithPlaceholder:a}){const l=[];let r=0;for(;r<s.length;){const c=s[r];if(c.type!=="paragraph"){r++;continue}if(c.listItem){const g=[];for(;r<s.length&&s[r].type==="paragraph"&&s[r].listItem;){const m=s[r];g.push(N.jsx("li",{className:`doc-preview__li doc-preview__li--${m.style}`,children:N.jsx(Dg,{children:m.children,replaceImagesWithPlaceholder:a})},r)),r++}l.push(N.jsx("ul",{className:"doc-preview__ul",children:g},`ul-${r}`));continue}const f=c.style,d=f==="heading1"?"h1":f==="heading2"?"h2":f==="heading3"?"h3":f==="heading4"?"h4":f==="heading5"?"h5":f==="heading6"?"h6":"p";l.push(N.jsx(d,{className:`doc-preview__block doc-preview__block--${f}`,children:N.jsx(Dg,{children:c.children,replaceImagesWithPlaceholder:a})},r)),r++}return N.jsx("div",{className:"doc-preview__blocks",children:l})}const xg=4e3,zg=s=>`https://docs.google.com/document/d/${s}/edit`;function T0({documentId:s}){const[a,l]=ee.useState(null),[r,c]=ee.useState(!1),[f,d]=ee.useState(null),[g,m]=ee.useState(null);ee.useEffect(()=>{if(typeof chrome>"u"||!chrome.runtime?.onMessage)return;const H=K=>{if(K.type==="DOC_PREVIEW_RESULT")if(c(!1),K.error)d(K.error),m(null);else{d(null);const se=Array.isArray(K.blocks)?K.blocks:[];m({title:K.title??"Untitled",blocks:se})}};return chrome.runtime.onMessage.addListener(H),()=>chrome.runtime.onMessage.removeListener(H)},[]);const y=ee.useCallback((H=!1)=>{typeof chrome>"u"||!chrome.runtime?.sendMessage||(H||(c(!0),d(null),m(null)),chrome.runtime.sendMessage({type:"GET_DOC_PREVIEW"}))},[]);ee.useEffect(()=>{if(a!=="noImages")return;const H=setInterval(()=>y(!0),xg);return()=>clearInterval(H)},[a,y]);const _=a!==null,w=a==="noImages",T=a==="live",A=()=>{if(a==="full"){l(null);return}l("full"),!g&&!r&&y()},x=()=>{if(a==="noImages"){l(null);return}l("noImages"),!g&&!r&&y()},D=()=>{if(a==="live"){l(null);return}l("live")},k=()=>{l(null)},q=()=>{y()},$=()=>{if(s){const H=zg(s);typeof chrome<"u"&&chrome.tabs?.create?chrome.tabs.create({url:H}):window.open(H,"_blank","noopener,noreferrer")}};return N.jsxs("div",{className:"doc-preview",children:[N.jsx("p",{className:"doc-preview__section-label",children:"Preview"}),N.jsxs("div",{className:"doc-preview__toggles",role:"group","aria-label":"Preview mode",children:[N.jsx("button",{type:"button",className:`doc-preview__toggle ${a==="live"?"doc-preview__toggle--active":""}`,onClick:D,"aria-pressed":a==="live",title:"Open the document in this panel to view and edit directly",children:"Live doc"}),N.jsx("span",{className:"doc-preview__toggle-divider","aria-hidden":"true"}),N.jsx("button",{type:"button",className:`doc-preview__toggle ${a==="full"?"doc-preview__toggle--active":""}`,onClick:A,"aria-pressed":a==="full",children:"Full"}),N.jsx("span",{className:"doc-preview__toggle-divider","aria-hidden":"true"}),N.jsx("button",{type:"button",className:`doc-preview__toggle ${a==="noImages"?"doc-preview__toggle--active":""}`,onClick:x,"aria-pressed":a==="noImages",children:"Text only"})]}),_&&N.jsx("div",{className:"doc-preview__body",children:T?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"doc-preview__toolbar",children:[s&&N.jsx("button",{type:"button",className:"doc-preview__open-doc",onClick:$,title:"Open in a new browser tab",children:"Open in new tab"}),N.jsx("button",{type:"button",className:"doc-preview__hide",onClick:k,children:"Close"})]}),s?N.jsxs("div",{className:"doc-preview__live-wrap",children:[N.jsx("iframe",{title:"Google Doc",className:"doc-preview__iframe",src:zg(s),sandbox:"allow-same-origin allow-scripts allow-forms allow-popups",referrerPolicy:"no-referrer"}),N.jsxs("p",{className:"doc-preview__live-hint",children:["If the doc doesnt load here, use ",N.jsx("strong",{children:"Open in new tab"})," to edit. Edits in the tab and here (if loaded) sync to the same document."]})]}):N.jsx("p",{className:"doc-preview__loading",children:"No document selected."})]}):N.jsxs(N.Fragment,{children:[r&&N.jsx("p",{className:"doc-preview__loading",children:"Loading"}),f&&!r&&N.jsxs("div",{className:"doc-preview__error",children:[N.jsx("p",{children:f}),N.jsx("button",{type:"button",className:"doc-preview__refresh",onClick:q,children:"Retry"})]}),g&&!r&&N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"doc-preview__toolbar",children:[s&&N.jsx("button",{type:"button",className:"doc-preview__open-doc",onClick:$,title:"Open in Google Docs",children:"Open in new tab"}),w?N.jsxs("span",{className:"doc-preview__auto-refresh",children:["Auto-refresh ",xg/1e3,"s"]}):N.jsx("button",{type:"button",className:"doc-preview__refresh",onClick:q,children:"Refresh"}),N.jsx("button",{type:"button",className:"doc-preview__hide",onClick:k,children:"Close"})]}),N.jsxs("div",{className:"doc-preview__content",children:[N.jsx("h3",{className:"doc-preview__title",children:g.title}),g.blocks.length===0?N.jsx("p",{className:"doc-preview__empty",children:"(Empty document)"}):N.jsx(E0,{blocks:g.blocks,replaceImagesWithPlaceholder:w})]})]})]})})]})}const Qs=typeof chrome<"u"&&chrome.identity;function A0(s){const a=new URL(s).hash.slice(1);return a?new Map(a.split("&").map(l=>{const r=l.indexOf("="),c=r===-1?l:l.slice(0,r),f=r===-1?"":l.slice(r+1);return[c,decodeURIComponent(f.replace(/\+/g," "))]})):new Map}async function O0(){if(!Kn||!Kt)return{error:"Supabase is not configured."};if(!Qs?.getRedirectURL||!Qs?.launchWebAuthFlow)return{error:"Chrome identity API is not available."};const s=Qs.getRedirectURL();let a;try{const{data:l,error:r}=await Kt.auth.signInWithOAuth({provider:"google",options:{redirectTo:s,queryParams:{access_type:"offline",prompt:"consent"}}});if(r)return{error:r.message||"Failed to start sign in."};if(!l?.url)return{error:"No auth URL returned."};a=l.url}catch(l){return{error:l?.message||"Failed to start sign in."}}return new Promise(l=>{Qs.launchWebAuthFlow({url:a,interactive:!0},async r=>{if(chrome.runtime?.lastError){const g=chrome.runtime.lastError.message||"";if(g.toLowerCase().includes("cancel")||g.includes("access_denied")){l({error:null});return}l({error:chrome.runtime.lastError.message||"Sign-in was cancelled or failed."});return}if(!r){l({error:"No callback URL received."});return}const c=A0(r),f=c.get("access_token"),d=c.get("refresh_token");if(!f||!d){const g=c.get("error_description")||c.get("error");l({error:g||"Sign-in failed. Missing tokens in callback."});return}try{const{error:g}=await Kt.auth.setSession({access_token:f,refresh_token:d});if(g){l({error:g.message||"Failed to set session."});return}l({error:null})}catch(g){l({error:g?.message||"Failed to complete sign in."})}})})}function R0(){const[s,a]=ee.useState(!1),[l,r]=ee.useState(null),c=ee.useCallback(async()=>{r(null),a(!0);try{const{error:f}=await O0();f&&r(f)}catch(f){r(f?.message||"Something went wrong.")}finally{a(!1)}},[]);return N.jsxs("div",{className:"login-page",children:[N.jsxs("header",{className:"login-page__header",children:[N.jsx("h1",{className:"login-page__title",children:"EZ-NoteTaker"}),N.jsx("p",{className:"login-page__subtitle",children:"Sign in to continue"})]}),N.jsxs("main",{className:"login-page__body",children:[N.jsx("button",{type:"button",className:"login-page__google-btn",onClick:c,disabled:s,"aria-busy":s,children:s?N.jsx("span",{className:"login-page__btn-text",children:"Signing in"}):N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"login-page__google-icon","aria-hidden":!0}),N.jsx("span",{className:"login-page__btn-text",children:"Continue with Google"})]})}),l&&N.jsx("p",{className:"login-page__error",role:"alert",children:l})]})]})}const Xe={NOT_CONNECTED:"not_connected",CONNECTED:"connected",DOCUMENT_SELECTED:"document_selected"};function C0(){const{user:s,loading:a,logout:l,tier:r}=h0(),[c,f]=ee.useState(Xe.NOT_CONNECTED),[d,g]=ee.useState(null),[m,y]=ee.useState(null),[_,w]=ee.useState(!1),[T,A]=ee.useState(!0),[x,D]=ee.useState(!1),k=Kn&&!a&&!s,q=ee.useCallback(async()=>{try{const he=await jg(),Ie=!!he?.connected,qe=he?.documentId??null,De=he?.documentName??null;g(qe),y(De),f(Ie&&qe?Xe.DOCUMENT_SELECTED:Ie?Xe.CONNECTED:Xe.NOT_CONNECTED),w(!!(Ie&&!qe))}catch{f(Xe.NOT_CONNECTED),g(null),y(null),w(!1)}},[]);ee.useEffect(()=>{let he=!1;return(async()=>{try{const Ie=await jg();if(he)return;const qe=!!Ie?.connected,De=Ie?.documentId??null,Lt=Ie?.documentName??null;g(De),y(Lt),f(qe&&De?Xe.DOCUMENT_SELECTED:qe?Xe.CONNECTED:Xe.NOT_CONNECTED),qe&&!De&&w(!0)}catch{he||f(Xe.NOT_CONNECTED)}finally{he||A(!1)}})(),()=>{he=!0}},[]);const $=()=>{f(Xe.CONNECTED),w(!0)},H=he=>{g(he.id),y(he.name||"Untitled"),f(Xe.DOCUMENT_SELECTED),w(!1)},K=async()=>{D(!0);try{await g0(),f(Xe.NOT_CONNECTED),g(null),y(null),w(!1)}catch{await q()}finally{D(!1)}},se=()=>{w(!0)};if(k)return N.jsx(R0,{});if(a||T)return N.jsxs("div",{className:"app app--popup",children:[N.jsx("header",{className:"app__header",children:N.jsx("h1",{className:"app__title",children:"EZ-NoteTaker"})}),N.jsx("div",{className:"app__body",children:"Loading"})]});const ne=c===Xe.DOCUMENT_SELECTED&&!_,Q=c!==Xe.NOT_CONNECTED,me=c===Xe.DOCUMENT_SELECTED?"Document Selected":c===Xe.CONNECTED?"Connected":"Not Connected";return N.jsxs("div",{className:"app app--popup",children:[N.jsxs("header",{className:"app__header",children:[N.jsxs("div",{className:"app__header-left",children:[N.jsx("h1",{className:"app__title",children:"EZ-NoteTaker"}),N.jsxs("span",{className:"app__status",role:"status","aria-live":"polite",children:[N.jsx("span",{className:`app__status-dot app__status-dot--${c===Xe.NOT_CONNECTED?"off":"on"}`}),me]})]}),N.jsxs("div",{className:"app__header-actions",children:[Kn&&s&&N.jsx("button",{type:"button",className:"app__logout",onClick:l,"aria-label":"Sign out of account",children:"Sign out"}),Q&&N.jsx("button",{type:"button",className:"app__logout",onClick:K,disabled:x,"aria-busy":x,children:"Disconnect"})]})]}),N.jsxs("main",{className:"app__body",children:[ne&&N.jsxs(N.Fragment,{children:[N.jsx(w0,{documentName:m||"Untitled",onChangeDocument:se,disabled:x}),N.jsx(T0,{documentId:d})]}),c===Xe.NOT_CONNECTED&&N.jsx(b0,{onSuccess:$,disabled:x}),Q&&_&&N.jsx(S0,{onSelectDocument:H,onError:()=>f(Xe.NOT_CONNECTED),disabled:x})]})]})}Uv.createRoot(document.getElementById("root")).render(N.jsx(ee.StrictMode,{children:N.jsx(f0,{children:N.jsx(C0,{})})}));
